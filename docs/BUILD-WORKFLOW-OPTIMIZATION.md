# æ„å»ºæµç¨‹ä¼˜åŒ–æ–‡æ¡£

## ğŸ“‹ é—®é¢˜èƒŒæ™¯

åœ¨åŸæœ‰çš„å·¥ä½œæµç¨‹ä¸­ï¼Œå¼€å‘è€…éœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤æ‰èƒ½å®Œæˆå®Œæ•´æ„å»ºï¼š

```bash
# 1. åœ¨é¡¹ç›®æ ¹ç›®å½•æ„å»ºåç«¯
npm run build

# 2. æ‰‹åŠ¨è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# 3. æ„å»ºå‰ç«¯
npm run build

# 4. è¿”å›æ ¹ç›®å½•
cd ..
```

è¿™ç§æ–¹å¼å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š
- âŒ éœ€è¦æ‰‹åŠ¨åˆ‡æ¢ç›®å½•
- âŒ å®¹æ˜“å¿˜è®°æ„å»ºå‰ç«¯
- âŒ CI/CD é…ç½®å¤æ‚
- âŒ æ–°æ‰‹ä½“éªŒä¸ä½³

## ğŸ¯ è§£å†³æ–¹æ¡ˆ

### å·²æœ‰çš„ NPM è„šæœ¬

é¡¹ç›®æ ¹ç›®å½•çš„ `package.json` å·²ç»é…ç½®äº†ä»¥ä¸‹ä¾¿æ·è„šæœ¬ï¼š

```json
{
  "scripts": {
    "install:all": "npm install && cd frontend && npm install",
    "build": "tsc",
    "build:frontend": "cd frontend && npm run build",
    "build:all": "npm run build && npm run build:frontend",
    "dev": "ts-node-dev --respawn --transpile-only src/server.ts",
    "dev:all": "concurrently \"npm run dev\" \"cd frontend && npm run dev\"",
    "preview": "npm run build:frontend && npm run dev"
  }
}
```

### è„šæœ¬è¯´æ˜

| è„šæœ¬ | åŠŸèƒ½ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| `npm run install:all` | å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆåç«¯+å‰ç«¯ï¼‰ | é¦–æ¬¡å…‹éš†é¡¹ç›® |
| `npm run build` | ä»…æ„å»ºåç«¯ | åç«¯ä»£ç ä¿®æ”¹ |
| `npm run build:frontend` | ä»…æ„å»ºå‰ç«¯ | å‰ç«¯ä»£ç ä¿®æ”¹ |
| `npm run build:all` | â­ ä¸€é”®æ„å»ºå…¨éƒ¨ | ç”Ÿäº§éƒ¨ç½² |
| `npm run dev` | å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨ | åç«¯APIå¼€å‘ |
| `npm run dev:all` | â­ åŒæ—¶å¯åŠ¨å‰åç«¯ | å…¨æ ˆå¼€å‘ |
| `npm run preview` | æ„å»ºå‰ç«¯å¹¶å¯åŠ¨åç«¯é¢„è§ˆ | æœ¬åœ°é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬ |

## ğŸ“ æ›´æ–°çš„æ–‡æ¡£

### README.md æ”¹è¿›å†…å®¹

1. **æ·»åŠ äº†å…‹éš†é¡¹ç›®æ­¥éª¤**ï¼ŒåŒ…å«æ­£ç¡®çš„GitHubåœ°å€
2. **å¢åŠ äº†æ­¥éª¤ç¼–å·**ï¼ˆ1ï¸âƒ£ 2ï¸âƒ£ 3ï¸âƒ£...ï¼‰ï¼Œæ›´æ¸…æ™°
3. **æ¨èä½¿ç”¨ä¸€é”®å‘½ä»¤**ï¼ŒåŒæ—¶ä¿ç•™æ‰‹åŠ¨æ­¥éª¤ä¾›é«˜çº§ç”¨æˆ·
4. **åŒºåˆ†å¼€å‘å’Œç”Ÿäº§æ¨¡å¼**ï¼Œé¿å…æ··æ·†
5. **è¡¥å……äº†å‰ç«¯å¼€å‘æœåŠ¡å™¨åœ°å€**

### æ–°å¢å†…å®¹å¯¹æ¯”

| ä¿®æ”¹å‰ | ä¿®æ”¹å |
|--------|--------|
| ä»…è¯´æ˜ `npm install` | æ¨è `npm run install:all`ï¼ŒåŒæ—¶è¯´æ˜ä½œç”¨ |
| ä»…è¯´æ˜ `npm run build` | æ¨è `npm run build:all`ï¼Œå¹¶è§£é‡Šæ„å»ºäº§ç‰©ä½ç½® |
| æœªè¯´æ˜å‰ç«¯å¼€å‘æœåŠ¡å™¨ | æ˜ç¡®åˆ—å‡º `http://localhost:5173` |
| æœªåŒºåˆ†å¼€å‘å’Œç”Ÿäº§æ¨¡å¼ | æ¸…æ™°åˆ†ç¦»ä¸¤ç§æ¨¡å¼çš„ä½¿ç”¨åœºæ™¯ |

## ğŸš€ æœ€ä½³å®è·µæ¨è

### æ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/zlcggb/led-calculator-api.git
cd led-calculator-api

# 2. ä¸€é”®å®‰è£…ä¾èµ–
npm run install:all

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev:all

# æµè§ˆå™¨è®¿é—®ï¼š
# - åç«¯API: http://localhost:3001
# - å‰ç«¯æ–‡æ¡£: http://localhost:5173
```

### ç”Ÿäº§éƒ¨ç½²

```bash
# 1. ä¸€é”®æ„å»º
npm run build:all

# 2. å¯åŠ¨ç”Ÿäº§æœåŠ¡
npm run start

# è®¿é—®: http://localhost:3001/app/
```

### å•ç‹¬å¼€å‘åœºæ™¯

```bash
# ä»…å¼€å‘åç«¯API
npm run dev

# ä»…å¼€å‘å‰ç«¯æ–‡æ¡£
cd frontend && npm run dev
```

## ğŸ”§ æŠ€æœ¯å®ç°

### ä¾èµ–ç®¡ç†

ä½¿ç”¨äº† `concurrently` åŒ…å®ç°åŒæ—¶è¿è¡Œå¤šä¸ªå‘½ä»¤ï¼š

```json
"dev:all": "concurrently \"npm run dev\" \"cd frontend && npm run dev\""
```

### æ„å»ºæµç¨‹

1. **åç«¯æ„å»º**ï¼šTypeScript ç¼–è¯‘åˆ° `dist/` ç›®å½•
   ```bash
   tsc
   ```

2. **å‰ç«¯æ„å»º**ï¼šVue + Vite ç¼–è¯‘åˆ° `public/docs-app/` ç›®å½•
   ```bash
   cd frontend && npm run build
   ```

3. **å‰ç«¯äº§ç‰©ä½ç½®**ï¼š
   - æ„å»ºè¾“å‡ºï¼š`../public/docs-app/`
   - ç”Ÿäº§è®¿é—®ï¼š`/app/` è·¯ç”±

### æ„å»ºé…ç½®æ–‡ä»¶

**å‰ç«¯ vite.config.ts**ï¼š
```typescript
export default defineConfig({
  build: {
    outDir: '../public/docs-app',
    emptyOutDir: true
  }
})
```

## ğŸ“Š ä¼˜åŒ–æ•ˆæœ

### æ“ä½œæ­¥éª¤å¯¹æ¯”

| åœºæ™¯ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å |
|------|--------|--------|
| å®‰è£…ä¾èµ– | 4æ¡å‘½ä»¤ | 1æ¡å‘½ä»¤ (`npm run install:all`) |
| å®Œæ•´æ„å»º | 5æ¡å‘½ä»¤ | 1æ¡å‘½ä»¤ (`npm run build:all`) |
| å¼€å‘æ¨¡å¼ | éœ€å¼€2ä¸ªç»ˆç«¯ | 1æ¡å‘½ä»¤ (`npm run dev:all`) |

### ç”¨æˆ·ä½“éªŒæå‡

- âœ… å‡å°‘ 80% çš„æ‰‹åŠ¨æ“ä½œ
- âœ… é™ä½æ–°æ‰‹ä¸Šæ‰‹éš¾åº¦
- âœ… é¿å…æ„å»ºæ­¥éª¤é—æ¼
- âœ… ç»Ÿä¸€å›¢é˜Ÿå·¥ä½œæµç¨‹
- âœ… ç®€åŒ– CI/CD é…ç½®

## ğŸ“ ç»éªŒæ€»ç»“

### Monorepo é¡¹ç›®çš„æœ€ä½³å®è·µ

1. **åœ¨æ ¹ç›®å½•æä¾›ä¸€é”®è„šæœ¬**
   - `install:all` - å®‰è£…æ‰€æœ‰ä¾èµ–
   - `build:all` - æ„å»ºæ‰€æœ‰é¡¹ç›®
   - `dev:all` - å¯åŠ¨æ‰€æœ‰å¼€å‘æœåŠ¡å™¨
   - `test:all` - è¿è¡Œæ‰€æœ‰æµ‹è¯•

2. **æ–‡æ¡£éœ€è¦æ˜ç¡®è¯´æ˜**
   - æ¨èå‘½ä»¤æ”¾åœ¨å‰é¢ï¼ˆæ ‡æ³¨â­æˆ–"æ¨è"ï¼‰
   - åŒæ—¶ä¿ç•™æ‰‹åŠ¨æ­¥éª¤ä¾›é«˜çº§ç”¨æˆ·
   - ä½¿ç”¨ emoji å’Œç¼–å·å¢å¼ºå¯è¯»æ€§

3. **ä½¿ç”¨ concurrently æˆ–ç±»ä¼¼å·¥å…·**
   - åŒæ—¶è¿è¡Œå¤šä¸ªå‘½ä»¤
   - å½©è‰²è¾“å‡ºåŒºåˆ†ä¸åŒæœåŠ¡
   - ç»Ÿä¸€ç®¡ç†è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸ

4. **æ„å»ºäº§ç‰©ä½ç½®è¦åˆç†**
   - å‰ç«¯æ„å»ºåˆ°åç«¯çš„ public ç›®å½•
   - ä¾¿äºç”Ÿäº§ç¯å¢ƒç»Ÿä¸€éƒ¨ç½²
   - å‡å°‘è·¨åŸŸå’Œè·¯å¾„é—®é¢˜

### Windows ç³»ç»Ÿå…¼å®¹æ€§æ³¨æ„äº‹é¡¹

- âœ… ä½¿ç”¨ `cd frontend &&` æ›¿ä»£ `;` è¿æ¥å‘½ä»¤
- âœ… è·¯å¾„ä½¿ç”¨æ­£æ–œæ  `/` è€Œéåæ–œæ  `\`
- âœ… è„šæœ¬ä¸­ä½¿ç”¨ `npm run` è€Œéç›´æ¥æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶

## ğŸ”— ç›¸å…³èµ„æº

- [é¡¹ç›® README.md](../README.md)
- [GitHub ä»“åº“](https://github.com/zlcggb/led-calculator-api)
- [åœ¨çº¿æ–‡æ¡£](https://led-api.unilumin-gtm.com/app/)

## ğŸ“… æ›´æ–°æ—¥å¿—

- **2025-12-08**: å®Œå–„ README.mdï¼Œæ˜ç¡®è¯´æ˜ä¸€é”®æ„å»ºæµç¨‹
- **2025-12-08**: åˆ›å»ºæœ¬æ–‡æ¡£è®°å½•ä¼˜åŒ–è¿‡ç¨‹å’Œæœ€ä½³å®è·µ

---

**ç»´æŠ¤è€…**ï¼šzlcggb  
**æœ€åæ›´æ–°**ï¼š2025-12-08
