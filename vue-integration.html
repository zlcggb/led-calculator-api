<!DOCTYPE html>
<html lang="en" id="html-root">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Complete integration tutorial for LED Calculator API in Vue 3 projects" id="meta-description">
    <title id="page-title">LED Calculator API - Vue Integration Guide</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.7;
        }
        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }
        .header {
            background: linear-gradient(135deg, #42b883 0%, #35495e 100%);
            color: white;
            padding: 40px 30px;
            border-radius: 16px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(66, 184, 131, 0.3);
        }
        .header h1 { font-size: 2.2rem; margin-bottom: 10px; }
        .header p { font-size: 1.1rem; opacity: 0.9; }
        .header-links { margin-top: 16px; display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }
        .header-links a {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            background: rgba(255,255,255,0.2);
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }
        .header-links a:hover { background: rgba(255,255,255,0.3); }
        .card {
            background: white;
            border-radius: 16px;
            padding: 28px;
            margin-bottom: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        .card h2 {
            color: #42b883;
            margin-bottom: 16px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 12px;
        }
        .card h3 { color: #35495e; margin: 24px 0 12px; font-size: 1.1rem; }
        .card h4 { color: #555; margin: 16px 0 8px; font-size: 1rem; }
        .card p { margin-bottom: 12px; color: #555; }
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #42b883 0%, #35495e 100%);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            font-size: 14px;
        }
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            border-radius: 10px;
            padding: 20px;
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            font-size: 13px;
            overflow-x: auto;
            white-space: pre;
            margin: 16px 0;
            position: relative;
        }
        .code-block .comment { color: #6a9955; }
        .code-block .keyword { color: #569cd6; }
        .code-block .string { color: #ce9178; }
        .code-block .function { color: #dcdcaa; }
        .code-block .variable { color: #9cdcfe; }
        .code-block .number { color: #b5cea8; }
        .code-block .type { color: #4ec9b0; }
        .code-filename {
            position: absolute;
            top: 8px;
            right: 12px;
            background: rgba(255,255,255,0.1);
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 11px;
            color: #888;
        }
        .copy-btn {
            position: absolute;
            top: 8px;
            right: 120px;
            background: rgba(255,255,255,0.1);
            border: none;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 11px;
            color: #888;
            cursor: pointer;
            transition: all 0.3s;
        }
        .copy-btn:hover { background: rgba(255,255,255,0.2); color: #fff; }
        .note {
            background: #e8f5e9;
            border-left: 4px solid #42b883;
            padding: 16px;
            border-radius: 0 8px 8px 0;
            margin: 16px 0;
        }
        .note-title { font-weight: bold; color: #2e7d32; margin-bottom: 8px; }
        .warning {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 16px;
            border-radius: 0 8px 8px 0;
            margin: 16px 0;
        }
        .warning-title { font-weight: bold; color: #e65100; margin-bottom: 8px; }
        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 24px;
        }
        .toc h3 { margin-bottom: 12px; color: #42b883; }
        .toc ul { list-style: none; }
        .toc li { margin: 8px 0; }
        .toc a { color: #333; text-decoration: none; }
        .toc a:hover { color: #42b883; }
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 8px;
        }
        .badge-vue3 { background: #42b883; color: white; }
        .badge-ts { background: #3178c6; color: white; }
        .file-tree {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 16px;
            font-family: monospace;
            font-size: 13px;
            white-space: pre;
        }
        .file-tree .folder { color: #42b883; }
        .file-tree .file { color: #666; }
        .lang-switcher {
            display: inline-flex;
            gap: 8px;
            margin-top: 16px;
            background: rgba(255,255,255,0.15);
            padding: 6px;
            border-radius: 30px;
        }
        .lang-btn {
            background: transparent;
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 24px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .lang-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        .lang-btn.active {
            background: rgba(255,255,255,0.3);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 data-i18n="header.title">ðŸŸ¢ Vue Integration Guide</h1>
            <p data-i18n="header.subtitle">Complete integration tutorial for LED Calculator API in Vue 3 projects</p>
            <div class="header-links">
                <a href="/" data-i18n="header.testPage">ðŸ§ª Test Page</a>
                <a href="/docs" data-i18n="header.apiDocs">ðŸ“š API Docs</a>
            </div>
            <div class="lang-switcher">
                <button class="lang-btn" data-lang="zh" onclick="i18n.setLanguage('zh')">
                    ðŸ‡¨ðŸ‡³ <span data-i18n="lang.chinese">ä¸­æ–‡</span>
                </button>
                <button class="lang-btn active" data-lang="en" onclick="i18n.setLanguage('en')">
                    ðŸ‡ºðŸ‡¸ <span data-i18n="lang.english">EN</span>
                </button>
            </div>
        </div>

        <!-- Table of Contents -->
        <div class="toc">
            <h3 data-i18n="toc.title">ðŸ“‹ Table of Contents</h3>
            <ul>
                <li>1. <a href="#overview" data-i18n="toc.overview">Overview & Preparation</a></li>
                <li>2. <a href="#step1" data-i18n="toc.step1">Step 1: Create API Service Layer</a></li>
                <li>3. <a href="#step2" data-i18n="toc.step2">Step 2: Create Type Definitions</a></li>
                <li>4. <a href="#step3" data-i18n="toc.step3">Step 3: Create Composable Hook</a></li>
                <li>5. <a href="#step4" data-i18n="toc.step4">Step 4: Create Calculator Component</a></li>
                <li>6. <a href="#step5" data-i18n="toc.step5">Step 5: Create Preview Component</a></li>
                <li>7. <a href="#complete" data-i18n="toc.complete">Complete Example Page</a></li>
                <li>8. <a href="#tips" data-i18n="toc.tips">Best Practices & Notes</a></li>
            </ul>
        </div>

        <!-- Overview -->
        <div class="card" id="overview">
            <h2><span class="step-number">0</span> <span data-i18n="overview.title">Overview & Preparation</span></h2>
            <p data-i18n="overview.description">This guide will help you integrate LED Calculator API in Vue 3 + TypeScript projects to implement LED display configuration calculation and preview functionality.</p>
            
            <h3 data-i18n="overview.techRequirements">Technology Stack Requirements</h3>
            <ul style="margin-left: 20px; margin-bottom: 16px;">
                <li>Vue 3.x <span class="badge badge-vue3">Composition API</span></li>
                <li>TypeScript 5.x <span class="badge badge-ts" data-i18n="overview.recommended">Recommended</span></li>
                <li data-i18n="overview.buildTool">Vite or Vue CLI</li>
            </ul>

            <h3 data-i18n="overview.apiInfo">API Basic Information</h3>
            <div class="code-block">
<span class="comment" data-i18n-comment="apiBase">// API Base URL</span>
<span class="keyword">const</span> <span class="variable">API_BASE</span> = <span class="string">'https://led-api.unilumin-gtm.com'</span>;

<span class="comment" data-i18n-comment="mainEndpoints">// Main Endpoints</span>
<span class="comment" data-i18n-comment="singleOptimal">// POST /api/calculate/optimal-layout          - Single cabinet optimal layout</span>
<span class="comment" data-i18n-comment="multiSmart">// POST /api/calculate/smart-combination       - Multi-cabinet smart combination</span>
<span class="comment" data-i18n-comment="singlePreview">// POST /api/calculate/optimal-layout-with-preview    - Single cabinet one-click calculation + preview</span>
<span class="comment" data-i18n-comment="multiPreview">// POST /api/calculate/smart-combination-with-preview - Multi-cabinet one-click calculation + preview</span>
<span class="comment" data-i18n-comment="svgPreview">// POST /api/preview/svg                       - SVG preview generation</span>
            </div>

            <h3 data-i18n="overview.projectStructure">Suggested Project Structure</h3>
            <div class="file-tree">
<span class="folder">src/</span>
â”œâ”€â”€ <span class="folder">api/</span>
â”‚   â””â”€â”€ <span class="file">ledCalculator.ts</span>        <span class="comment" data-i18n-comment="apiService">// API service layer</span>
â”œâ”€â”€ <span class="folder">types/</span>
â”‚   â””â”€â”€ <span class="file">ledCalculator.ts</span>        <span class="comment" data-i18n-comment="typeDefinitions">// TypeScript type definitions</span>
â”œâ”€â”€ <span class="folder">composables/</span>
â”‚   â””â”€â”€ <span class="file">useLedCalculator.ts</span>    <span class="comment" data-i18n-comment="calculatorComposable">// Vue Composable Hook</span>
â”œâ”€â”€ <span class="folder">components/</span>
â”‚   â”œâ”€â”€ <span class="file">LedCalculator.vue</span>       <span class="comment" data-i18n-comment="singleCalc">// Calculator component</span>
â”‚   â””â”€â”€ <span class="file">LedPreview.vue</span>          <span class="comment" data-i18n-comment="previewComponent">// Preview component</span>
â””â”€â”€ <span class="folder">views/</span>
    â””â”€â”€ <span class="file">LedConfigPage.vue</span>       <span class="comment" data-i18n-comment="completePage">// Complete page</span>
            </div>
        </div>


        <!-- Step 1: API Service Layer -->
        <div class="card" id="step1">
            <h2><span class="step-number">1</span> <span data-i18n="step1.title">Create API Service Layer</span></h2>
            <p data-i18n="step1.description">First create a unified API service file to encapsulate all interaction logic with LED Calculator API.</p>
            
            <div class="code-block">
                <span class="code-filename">src/api/ledCalculator.ts</span>
                <button class="copy-btn" onclick="copyCode(this)" data-i18n="buttons.copy">Copy</button>
<span class="comment" data-i18n-comment="serviceLayerDoc">/**
 * LED Calculator API Service Layer
 * Encapsulate all API call logic
 */</span>

<span class="keyword">const</span> <span class="variable">API_BASE</span> = <span class="string">'https://led-api.unilumin-gtm.com'</span>;

<span class="comment" data-i18n-comment="commonRequest">// Common request method</span>
<span class="keyword">async function</span> <span class="function">request</span>&lt;<span class="type">T</span>&gt;(
  <span class="variable">endpoint</span>: <span class="type">string</span>,
  <span class="variable">data</span>: <span class="type">unknown</span>
): <span class="type">Promise</span>&lt;<span class="type">T</span>&gt; {
  <span class="keyword">const</span> <span class="variable">response</span> = <span class="keyword">await</span> <span class="function">fetch</span>(<span class="string">`<span class="variable">${API_BASE}${endpoint}</span>`</span>, {
    <span class="variable">method</span>: <span class="string">'POST'</span>,
    <span class="variable">headers</span>: {
      <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,
    },
    <span class="variable">body</span>: <span class="type">JSON</span>.<span class="function">stringify</span>(<span class="variable">data</span>),
  });

  <span class="keyword">if</span> (!<span class="variable">response</span>.<span class="variable">ok</span>) {
    <span class="keyword">const</span> <span class="variable">error</span> = <span class="keyword">await</span> <span class="variable">response</span>.<span class="function">json</span>();
    <span class="keyword">throw new</span> <span class="type">Error</span>(<span class="variable">error</span>.<span class="variable">error</span>?.<span class="variable">message</span> || <span class="string" data-i18n-string="apiRequestFailed">'API request failed'</span>);
  }

  <span class="keyword">return</span> <span class="variable">response</span>.<span class="function">json</span>();
}

<span class="comment" data-i18n-comment="singleOptimalLayout">/**
 * Single cabinet optimal layout calculation
 */</span>
<span class="keyword">export async function</span> <span class="function">calculateOptimalLayout</span>(
  <span class="variable">cabinetSpecs</span>: <span class="type">CabinetSpecs</span>,
  <span class="variable">roomConfig</span>: <span class="type">RoomConfig</span>
): <span class="type">Promise</span>&lt;<span class="type">OptimalLayoutResponse</span>&gt; {
  <span class="keyword">return</span> <span class="function">request</span>(<span class="string">'/api/calculate/optimal-layout'</span>, {
    <span class="variable">cabinetSpecs</span>,
    <span class="variable">roomConfig</span>,
  });
}

<span class="comment" data-i18n-comment="singleOptimalPreview">/**
 * Single cabinet one-click calculation + preview (recommended)
 */</span>
<span class="keyword">export async function</span> <span class="function">calculateOptimalLayoutWithPreview</span>(
  <span class="variable">cabinetSpecs</span>: <span class="type">CabinetSpecs</span>,
  <span class="variable">roomConfig</span>: <span class="type">RoomConfig</span>,
  <span class="variable">previewOptions</span>?: <span class="type">PreviewOptions</span>
): <span class="type">Promise</span>&lt;<span class="type">OptimalLayoutWithPreviewResponse</span>&gt; {
  <span class="keyword">return</span> <span class="function">request</span>(<span class="string">'/api/calculate/optimal-layout-with-preview'</span>, {
    <span class="variable">cabinetSpecs</span>,
    <span class="variable">roomConfig</span>,
    <span class="variable">previewOptions</span>: <span class="variable">previewOptions</span> || {
      <span class="variable">showDimensions</span>: <span class="keyword">true</span>,
      <span class="variable">showPerson</span>: <span class="keyword">true</span>,
      <span class="variable">canvasWidth</span>: <span class="number">800</span>,
      <span class="variable">canvasHeight</span>: <span class="number">500</span>,
      <span class="variable">language</span>: <span class="string">'en'</span>,
    },
  });
}

<span class="comment" data-i18n-comment="multiSmartCombination">/**
 * Multi-cabinet smart combination calculation
 */</span>
<span class="keyword">export async function</span> <span class="function">calculateSmartCombination</span>(
  <span class="variable">mainCabinet</span>: <span class="type">CabinetWithId</span>,
  <span class="variable">auxiliaryCabinets</span>: <span class="type">CabinetWithId</span>[],
  <span class="variable">wallWidthMm</span>: <span class="type">number</span>,
  <span class="variable">wallHeightMm</span>: <span class="type">number</span>
): <span class="type">Promise</span>&lt;<span class="type">SmartCombinationResponse</span>&gt; {
  <span class="keyword">return</span> <span class="function">request</span>(<span class="string">'/api/calculate/smart-combination'</span>, {
    <span class="variable">mainCabinet</span>,
    <span class="variable">auxiliaryCabinets</span>,
    <span class="variable">wallWidthMm</span>,
    <span class="variable">wallHeightMm</span>,
  });
}

<span class="comment" data-i18n-comment="multiSmartPreview">/**
 * Multi-cabinet one-click calculation + preview (recommended)
 */</span>
<span class="keyword">export async function</span> <span class="function">calculateSmartCombinationWithPreview</span>(
  <span class="variable">mainCabinet</span>: <span class="type">CabinetWithId</span>,
  <span class="variable">auxiliaryCabinets</span>: <span class="type">CabinetWithId</span>[],
  <span class="variable">wallWidthMm</span>: <span class="type">number</span>,
  <span class="variable">wallHeightMm</span>: <span class="type">number</span>,
  <span class="variable">previewOptions</span>?: <span class="type">PreviewOptions</span>
): <span class="type">Promise</span>&lt;<span class="type">SmartCombinationWithPreviewResponse</span>&gt; {
  <span class="keyword">return</span> <span class="function">request</span>(<span class="string">'/api/calculate/smart-combination-with-preview'</span>, {
    <span class="variable">mainCabinet</span>,
    <span class="variable">auxiliaryCabinets</span>,
    <span class="variable">wallWidthMm</span>,
    <span class="variable">wallHeightMm</span>,
    <span class="variable">previewOptions</span>: <span class="variable">previewOptions</span> || {
      <span class="variable">showDimensions</span>: <span class="keyword">true</span>,
      <span class="variable">showPerson</span>: <span class="keyword">true</span>,
      <span class="variable">canvasWidth</span>: <span class="number">800</span>,
      <span class="variable">canvasHeight</span>: <span class="number">500</span>,
      <span class="variable">language</span>: <span class="string">'en'</span>,
    },
  });
}

<span class="comment" data-i18n-comment="generateSvgPreview">/**
 * Generate SVG preview
 */</span>
<span class="keyword">export async function</span> <span class="function">generatePreview</span>(
  <span class="variable">calculationResult</span>: <span class="type">CalculationResult</span>,
  <span class="variable">roomConfig</span>: <span class="type">RoomConfig</span>,
  <span class="variable">options</span>?: <span class="type">PreviewOptions</span>
): <span class="type">Promise</span>&lt;<span class="type">PreviewResponse</span>&gt; {
  <span class="keyword">return</span> <span class="function">request</span>(<span class="string">'/api/preview/svg'</span>, {
    <span class="variable">calculationResult</span>,
    <span class="variable">roomConfig</span>,
    <span class="variable">options</span>,
  });
}
            </div>

            <div class="note">
                <div class="note-title" data-i18n="step1.noteTitle">ðŸ’¡ Tip</div>
                <p data-i18n="step1.note">Recommend using *WithPreview interfaces to get both calculation results and preview in one request, reducing network requests.</p>
            </div>
        </div>

        <!-- Step 2: Type Definitions -->
        <div class="card" id="step2">
            <h2><span class="step-number">2</span> <span data-i18n="step2.title">Create Type Definitions</span></h2>
            <p data-i18n="step2.description">Define TypeScript interfaces to ensure type safety and code hints.</p>
            
            <div class="code-block">
                <span class="code-filename">src/types/ledCalculator.ts</span>
                <button class="copy-btn" onclick="copyCode(this)" data-i18n="buttons.copy">Copy</button>
<span class="comment" data-i18n-comment="typeDefinitionsDoc">/**
 * LED Calculator API Type Definitions
 */</span>

<span class="comment" data-i18n-comment="cabinetSpecs">// ========== Cabinet Specifications ==========</span>
<span class="keyword">export interface</span> <span class="type">CabinetSpecs</span> {
  <span class="variable">dimensions</span>: {
    <span class="variable">width</span>: <span class="type">number</span>;   <span class="comment" data-i18n-comment="cabinetWidth">// Cabinet width (mm)</span>
    <span class="variable">height</span>: <span class="type">number</span>;  <span class="comment" data-i18n-comment="cabinetHeight">// Cabinet height (mm)</span>
    <span class="variable">depth</span>?: <span class="type">number</span>;  <span class="comment" data-i18n-comment="cabinetDepth">// Cabinet depth (mm)</span>
  };
  <span class="variable">display</span>: {
    <span class="variable">pixelPitch</span>: <span class="type">number</span>;  <span class="comment" data-i18n-comment="pixelPitch">// Pixel pitch (mm)</span>
    <span class="variable">resolution</span>: {
      <span class="variable">width</span>: <span class="type">number</span>;   <span class="comment" data-i18n-comment="horizontalRes">// Horizontal resolution (px)</span>
      <span class="variable">height</span>: <span class="type">number</span>;  <span class="comment" data-i18n-comment="verticalRes">// Vertical resolution (px)</span>
    };
    <span class="variable">brightness</span>?: <span class="type">number</span>;    <span class="comment" data-i18n-comment="brightness">// Brightness (nits)</span>
    <span class="variable">refreshRate</span>?: <span class="type">number</span>;   <span class="comment" data-i18n-comment="refreshRate">// Refresh rate (Hz)</span>
    <span class="variable">colorDepth</span>?: <span class="type">number</span>;    <span class="comment" data-i18n-comment="colorDepth">// Color depth (bit)</span>
  };
  <span class="variable">power</span>: {
    <span class="variable">maxPower</span>: <span class="type">number</span>;      <span class="comment" data-i18n-comment="maxPower">// Max power (W)</span>
    <span class="variable">typicalPower</span>: <span class="type">number</span>;  <span class="comment" data-i18n-comment="typicalPower">// Typical power (W)</span>
    <span class="variable">standbyPower</span>?: <span class="type">number</span>; <span class="comment" data-i18n-comment="standbyPower">// Standby power (W)</span>
  };
  <span class="variable">physical</span>: {
    <span class="variable">weight</span>: <span class="type">number</span>;  <span class="comment" data-i18n-comment="weight">// Weight (kg)</span>
    <span class="variable">operatingTemp</span>?: { <span class="variable">min</span>: <span class="type">number</span>; <span class="variable">max</span>: <span class="type">number</span> };
    <span class="variable">humidity</span>?: { <span class="variable">min</span>: <span class="type">number</span>; <span class="variable">max</span>: <span class="type">number</span> };
    <span class="variable">ipRating</span>?: <span class="type">string</span>;
  };
}

<span class="comment" data-i18n-comment="cabinetWithId">// Cabinet with ID (for multi-cabinet combination)</span>
<span class="keyword">export interface</span> <span class="type">CabinetWithId</span> {
  <span class="variable">id</span>: <span class="type">string</span>;
  <span class="variable">specs</span>: <span class="type">CabinetSpecs</span>;
}

<span class="comment" data-i18n-comment="wallConfig">// ========== Wall Configuration ==========</span>
<span class="keyword">export interface</span> <span class="type">RoomConfig</span> {
  <span class="variable">dimensions</span>: {
    <span class="variable">width</span>: <span class="type">number</span>;
    <span class="variable">height</span>: <span class="type">number</span>;
  };
  <span class="variable">unit</span>: <span class="string">'meters'</span> | <span class="string">'feet'</span>;
  <span class="variable">wallType</span>?: <span class="string">'flat'</span>;
}

<span class="comment" data-i18n-comment="previewOptions">// ========== Preview Options ==========</span>
<span class="keyword">export interface</span> <span class="type">PreviewOptions</span> {
  <span class="variable">showDimensions</span>?: <span class="type">boolean</span>;  <span class="comment" data-i18n-comment="showDimensions">// Show dimension annotations</span>
  <span class="variable">showPerson</span>?: <span class="type">boolean</span>;      <span class="comment" data-i18n-comment="showPerson">// Show person reference</span>
  <span class="variable">canvasWidth</span>?: <span class="type">number</span>;      <span class="comment" data-i18n-comment="canvasWidth">// Canvas width (px)</span>
  <span class="variable">canvasHeight</span>?: <span class="type">number</span>;     <span class="comment" data-i18n-comment="canvasHeight">// Canvas height (px)</span>
  <span class="variable">language</span>?: <span class="string">'zh'</span> | <span class="string">'en'</span>;   <span class="comment" data-i18n-comment="language">// Language</span>
}

<span class="comment" data-i18n-comment="apiResponse">// ========== API Response Types ==========</span>
<span class="keyword">export interface</span> <span class="type">ApiResponse</span>&lt;<span class="type">T</span>&gt; {
  <span class="variable">success</span>: <span class="type">boolean</span>;
  <span class="variable">data</span>: <span class="type">T</span>;
  <span class="variable">timestamp</span>?: <span class="type">string</span>;
}

<span class="comment" data-i18n-comment="singleLayoutResponse">// Single cabinet layout response</span>
<span class="keyword">export interface</span> <span class="type">OptimalLayoutData</span> {
  <span class="variable">columns</span>: <span class="type">number</span>;
  <span class="variable">rows</span>: <span class="type">number</span>;
  <span class="variable">totalCabinets</span>: <span class="type">number</span>;
  <span class="variable">wallWidth</span>: <span class="type">number</span>;
  <span class="variable">wallHeight</span>: <span class="type">number</span>;
  <span class="variable">coverage</span>: <span class="type">number</span>;
  <span class="variable">calculationResult</span>?: <span class="type">CalculationResult</span>;
}

<span class="keyword">export type</span> <span class="type">OptimalLayoutResponse</span> = <span class="type">ApiResponse</span>&lt;<span class="type">OptimalLayoutData</span>&gt;;

<span class="comment" data-i18n-comment="responseWithPreview">// Response with preview</span>
<span class="keyword">export interface</span> <span class="type">OptimalLayoutWithPreviewData</span> <span class="keyword">extends</span> <span class="type">OptimalLayoutData</span> {
  <span class="variable">preview</span>: {
    <span class="variable">svg</span>: <span class="type">string</span>;
    <span class="variable">width</span>: <span class="type">number</span>;
    <span class="variable">height</span>: <span class="type">number</span>;
  };
}

<span class="keyword">export type</span> <span class="type">OptimalLayoutWithPreviewResponse</span> = <span class="type">ApiResponse</span>&lt;<span class="type">OptimalLayoutWithPreviewData</span>&gt;;

<span class="comment" data-i18n-comment="multiCombinationResponse">// Multi-cabinet combination response</span>
<span class="keyword">export interface</span> <span class="type">SmartCombinationData</span> {
  <span class="variable">isFullyFilled</span>: <span class="type">boolean</span>;
  <span class="variable">coveragePercentage</span>: <span class="type">string</span>;
  <span class="variable">bestCombination</span>: { <span class="variable">id</span>: <span class="type">string</span>; <span class="variable">count</span>: <span class="type">number</span> }[];
  <span class="variable">adjustedSize</span>: { <span class="variable">width</span>: <span class="type">number</span>; <span class="variable">height</span>: <span class="type">number</span> };
  <span class="variable">calculationResult</span>: <span class="type">CalculationResult</span>;
}

<span class="keyword">export type</span> <span class="type">SmartCombinationResponse</span> = <span class="type">ApiResponse</span>&lt;<span class="type">SmartCombinationData</span>&gt;;

<span class="comment" data-i18n-comment="previewResponse">// Preview response</span>
<span class="keyword">export interface</span> <span class="type">PreviewData</span> {
  <span class="variable">svg</span>: <span class="type">string</span>;
  <span class="variable">width</span>: <span class="type">number</span>;
  <span class="variable">height</span>: <span class="type">number</span>;
}

<span class="keyword">export type</span> <span class="type">PreviewResponse</span> = <span class="type">ApiResponse</span>&lt;<span class="type">PreviewData</span>&gt;;
            </div>
        </div>


        <!-- Step 3: Composable Hook -->
        <div class="card" id="step3">
            <h2><span class="step-number">3</span> <span data-i18n="step3.title">Create Composable Hook</span></h2>
            <p data-i18n="step3.description">Create Vue 3 Composable to encapsulate state management and API call logic for easy reuse in components.</p>
            
            <div class="code-block">
                <span class="code-filename">src/composables/useLedCalculator.ts</span>
                <button class="copy-btn" onclick="copyCode(this)" data-i18n="buttons.copy">Copy</button>
<span class="keyword">import</span> { <span class="variable">ref</span>, <span class="variable">reactive</span>, <span class="variable">computed</span> } <span class="keyword">from</span> <span class="string">'vue'</span>;
<span class="keyword">import</span> <span class="keyword">type</span> {
  <span class="type">CabinetSpecs</span>,
  <span class="type">RoomConfig</span>,
  <span class="type">PreviewOptions</span>,
  <span class="type">OptimalLayoutWithPreviewData</span>,
} <span class="keyword">from</span> <span class="string">'@/types/ledCalculator'</span>;
<span class="keyword">import</span> {
  <span class="variable">calculateOptimalLayoutWithPreview</span>,
} <span class="keyword">from</span> <span class="string">'@/api/ledCalculator'</span>;

<span class="comment" data-i18n-comment="composableDoc">/**
 * LED Calculator Composable
 * Provide reactive state and calculation methods
 */</span>
<span class="keyword">export function</span> <span class="function">useLedCalculator</span>() {
  <span class="comment" data-i18n-comment="state">// ========== State ==========</span>
  <span class="keyword">const</span> <span class="variable">loading</span> = <span class="function">ref</span>(<span class="keyword">false</span>);
  <span class="keyword">const</span> <span class="variable">error</span> = <span class="function">ref</span>&lt;<span class="type">string</span> | <span class="keyword">null</span>&gt;(<span class="keyword">null</span>);
  
  <span class="comment" data-i18n-comment="singleResult">// Single cabinet calculation result</span>
  <span class="keyword">const</span> <span class="variable">optimalLayoutResult</span> = <span class="function">ref</span>&lt;<span class="type">OptimalLayoutWithPreviewData</span> | <span class="keyword">null</span>&gt;(<span class="keyword">null</span>);
  
  <span class="comment" data-i18n-comment="svgPreview">// SVG preview</span>
  <span class="keyword">const</span> <span class="variable">previewSvg</span> = <span class="function">computed</span>(() => {
    <span class="keyword">return</span> <span class="variable">optimalLayoutResult</span>.<span class="variable">value</span>?.<span class="variable">preview</span>?.<span class="variable">svg</span> || <span class="keyword">null</span>;
  });

  <span class="comment" data-i18n-comment="defaultPreview">// Default preview options</span>
  <span class="keyword">const</span> <span class="variable">defaultPreviewOptions</span>: <span class="type">PreviewOptions</span> = {
    <span class="variable">showDimensions</span>: <span class="keyword">true</span>,
    <span class="variable">showPerson</span>: <span class="keyword">true</span>,
    <span class="variable">canvasWidth</span>: <span class="number">800</span>,
    <span class="variable">canvasHeight</span>: <span class="number">500</span>,
    <span class="variable">language</span>: <span class="string">'en'</span>,
  };

  <span class="comment" data-i18n-comment="methods">// ========== Methods ==========</span>
  
  <span class="comment" data-i18n-comment="singleOptimalCalc">/**
   * Single cabinet optimal layout calculation
   */</span>
  <span class="keyword">async function</span> <span class="function">calculateOptimal</span>(
    <span class="variable">cabinetSpecs</span>: <span class="type">CabinetSpecs</span>,
    <span class="variable">roomConfig</span>: <span class="type">RoomConfig</span>,
    <span class="variable">previewOptions</span>?: <span class="type">PreviewOptions</span>
  ) {
    <span class="variable">loading</span>.<span class="variable">value</span> = <span class="keyword">true</span>;
    <span class="variable">error</span>.<span class="variable">value</span> = <span class="keyword">null</span>;
    
    <span class="keyword">try</span> {
      <span class="keyword">const</span> <span class="variable">response</span> = <span class="keyword">await</span> <span class="function">calculateOptimalLayoutWithPreview</span>(
        <span class="variable">cabinetSpecs</span>,
        <span class="variable">roomConfig</span>,
        <span class="variable">previewOptions</span> || <span class="variable">defaultPreviewOptions</span>
      );
      
      <span class="keyword">if</span> (<span class="variable">response</span>.<span class="variable">success</span>) {
        <span class="variable">optimalLayoutResult</span>.<span class="variable">value</span> = <span class="variable">response</span>.<span class="variable">data</span>;
        <span class="keyword">return</span> <span class="variable">response</span>.<span class="variable">data</span>;
      } <span class="keyword">else</span> {
        <span class="keyword">throw new</span> <span class="type">Error</span>(<span class="string" data-i18n-string="calculationFailed">'Calculation failed'</span>);
      }
    } <span class="keyword">catch</span> (<span class="variable">e</span>) {
      <span class="variable">error</span>.<span class="variable">value</span> = <span class="variable">e</span> <span class="keyword">instanceof</span> <span class="type">Error</span> ? <span class="variable">e</span>.<span class="variable">message</span> : <span class="string" data-i18n-string="unknownError">'Unknown error'</span>;
      <span class="keyword">throw</span> <span class="variable">e</span>;
    } <span class="keyword">finally</span> {
      <span class="variable">loading</span>.<span class="variable">value</span> = <span class="keyword">false</span>;
    }
  }

  <span class="comment" data-i18n-comment="clearResults">/**
   * Clear results
   */</span>
  <span class="keyword">function</span> <span class="function">clearResults</span>() {
    <span class="variable">optimalLayoutResult</span>.<span class="variable">value</span> = <span class="keyword">null</span>;
    <span class="variable">error</span>.<span class="variable">value</span> = <span class="keyword">null</span>;
  }

  <span class="keyword">return</span> {
    <span class="variable">loading</span>,
    <span class="variable">error</span>,
    <span class="variable">optimalLayoutResult</span>,
    <span class="variable">previewSvg</span>,
    <span class="variable">calculateOptimal</span>,
    <span class="variable">clearResults</span>,
  };
}
            </div>
        </div>


        <!-- Step 4: Calculator Component -->
        <div class="card" id="step4">
            <h2><span class="step-number">4</span> <span data-i18n="step4.title">Create Calculator Component</span></h2>
            <p data-i18n="step4.description">Create a complete LED calculator form component with cabinet parameter input and wall dimension configuration.</p>
            
            <div class="code-block">
                <span class="code-filename">src/components/LedCalculator.vue</span>
                <button class="copy-btn" onclick="copyCode(this)" data-i18n="buttons.copy">Copy</button>
&lt;<span class="keyword">script</span> <span class="variable">setup</span> <span class="variable">lang</span>=<span class="string">"ts"</span>&gt;
<span class="keyword">import</span> { <span class="variable">reactive</span> } <span class="keyword">from</span> <span class="string">'vue'</span>;
<span class="keyword">import</span> { <span class="variable">useLedCalculator</span> } <span class="keyword">from</span> <span class="string">'@/composables/useLedCalculator'</span>;
<span class="keyword">import</span> <span class="keyword">type</span> { <span class="type">CabinetSpecs</span>, <span class="type">RoomConfig</span> } <span class="keyword">from</span> <span class="string">'@/types/ledCalculator'</span>;

<span class="comment" data-i18n-comment="useComposable">// Use composable</span>
<span class="keyword">const</span> {
  <span class="variable">loading</span>,
  <span class="variable">error</span>,
  <span class="variable">optimalLayoutResult</span>,
  <span class="variable">previewSvg</span>,
  <span class="variable">calculateOptimal</span>,
} = <span class="function">useLedCalculator</span>();

<span class="comment" data-i18n-comment="formData">// Form data</span>
<span class="keyword">const</span> <span class="variable">cabinetForm</span> = <span class="function">reactive</span>({
  <span class="variable">width</span>: <span class="number">500</span>,
  <span class="variable">height</span>: <span class="number">1000</span>,
  <span class="variable">depth</span>: <span class="number">40</span>,
  <span class="variable">pixelPitch</span>: <span class="number">1.5625</span>,
  <span class="variable">resolutionWidth</span>: <span class="number">320</span>,
  <span class="variable">resolutionHeight</span>: <span class="number">640</span>,
  <span class="variable">maxPower</span>: <span class="number">180</span>,
  <span class="variable">typicalPower</span>: <span class="number">60</span>,
  <span class="variable">weight</span>: <span class="number">10.5</span>,
});

<span class="keyword">const</span> <span class="variable">roomForm</span> = <span class="function">reactive</span>({
  <span class="variable">width</span>: <span class="number">5</span>,
  <span class="variable">height</span>: <span class="number">3</span>,
  <span class="variable">unit</span>: <span class="string">'meters'</span> <span class="keyword">as</span> <span class="string">'meters'</span> | <span class="string">'feet'</span>,
});

<span class="comment" data-i18n-comment="submitCalc">// Submit calculation</span>
<span class="keyword">async function</span> <span class="function">handleCalculate</span>() {
  <span class="keyword">const</span> <span class="variable">cabinetSpecs</span>: <span class="type">CabinetSpecs</span> = {
    <span class="variable">dimensions</span>: {
      <span class="variable">width</span>: <span class="variable">cabinetForm</span>.<span class="variable">width</span>,
      <span class="variable">height</span>: <span class="variable">cabinetForm</span>.<span class="variable">height</span>,
      <span class="variable">depth</span>: <span class="variable">cabinetForm</span>.<span class="variable">depth</span>,
    },
    <span class="variable">display</span>: {
      <span class="variable">pixelPitch</span>: <span class="variable">cabinetForm</span>.<span class="variable">pixelPitch</span>,
      <span class="variable">resolution</span>: {
        <span class="variable">width</span>: <span class="variable">cabinetForm</span>.<span class="variable">resolutionWidth</span>,
        <span class="variable">height</span>: <span class="variable">cabinetForm</span>.<span class="variable">resolutionHeight</span>,
      },
    },
    <span class="variable">power</span>: {
      <span class="variable">maxPower</span>: <span class="variable">cabinetForm</span>.<span class="variable">maxPower</span>,
      <span class="variable">typicalPower</span>: <span class="variable">cabinetForm</span>.<span class="variable">typicalPower</span>,
    },
    <span class="variable">physical</span>: {
      <span class="variable">weight</span>: <span class="variable">cabinetForm</span>.<span class="variable">weight</span>,
    },
  };

  <span class="keyword">const</span> <span class="variable">roomConfig</span>: <span class="type">RoomConfig</span> = {
    <span class="variable">dimensions</span>: {
      <span class="variable">width</span>: <span class="variable">roomForm</span>.<span class="variable">width</span>,
      <span class="variable">height</span>: <span class="variable">roomForm</span>.<span class="variable">height</span>,
    },
    <span class="variable">unit</span>: <span class="variable">roomForm</span>.<span class="variable">unit</span>,
  };

  <span class="keyword">try</span> {
    <span class="keyword">await</span> <span class="function">calculateOptimal</span>(<span class="variable">cabinetSpecs</span>, <span class="variable">roomConfig</span>);
  } <span class="keyword">catch</span> (<span class="variable">e</span>) {
    <span class="variable">console</span>.<span class="function">error</span>(<span class="string" data-i18n-string="calculationFailedColon">'Calculation failed:'</span>, <span class="variable">e</span>);
  }
}
&lt;/<span class="keyword">script</span>&gt;
            </div>
        </div>


        <!-- Step 5: Preview Component -->
        <div class="card" id="step5">
            <h2><span class="step-number">5</span> <span data-i18n="step5.title">Create Preview Component</span></h2>
            <p data-i18n="step5.description">Create an independent SVG preview component that can be reused in different scenarios.</p>
            
            <div class="code-block">
                <span class="code-filename">src/components/LedPreview.vue</span>
                <button class="copy-btn" onclick="copyCode(this)" data-i18n="buttons.copy">Copy</button>
&lt;<span class="keyword">script</span> <span class="variable">setup</span> <span class="variable">lang</span>=<span class="string">"ts"</span>&gt;
<span class="keyword">import</span> { <span class="variable">computed</span> } <span class="keyword">from</span> <span class="string">'vue'</span>;

<span class="keyword">interface</span> <span class="type">Props</span> {
  <span class="variable">svg</span>: <span class="type">string</span> | <span class="keyword">null</span>;
  <span class="variable">width</span>?: <span class="type">number</span>;
  <span class="variable">height</span>?: <span class="type">number</span>;
  <span class="variable">loading</span>?: <span class="type">boolean</span>;
}

<span class="keyword">const</span> <span class="variable">props</span> = <span class="function">withDefaults</span>(<span class="function">defineProps</span>&lt;<span class="type">Props</span>&gt;(), {
  <span class="variable">width</span>: <span class="number">800</span>,
  <span class="variable">height</span>: <span class="number">500</span>,
  <span class="variable">loading</span>: <span class="keyword">false</span>,
});

<span class="keyword">const</span> <span class="variable">containerStyle</span> = <span class="function">computed</span>(() => ({
  <span class="variable">minHeight</span>: <span class="string">`<span class="variable">${props.height}</span>px`</span>,
}));

<span class="comment" data-i18n-comment="downloadSvg">// Download SVG</span>
<span class="keyword">function</span> <span class="function">downloadSvg</span>() {
  <span class="keyword">if</span> (!<span class="variable">props</span>.<span class="variable">svg</span>) <span class="keyword">return</span>;
  
  <span class="keyword">const</span> <span class="variable">blob</span> = <span class="keyword">new</span> <span class="type">Blob</span>([<span class="variable">props</span>.<span class="variable">svg</span>], { <span class="variable">type</span>: <span class="string">'image/svg+xml'</span> });
  <span class="keyword">const</span> <span class="variable">url</span> = <span class="type">URL</span>.<span class="function">createObjectURL</span>(<span class="variable">blob</span>);
  <span class="keyword">const</span> <span class="variable">a</span> = <span class="variable">document</span>.<span class="function">createElement</span>(<span class="string">'a'</span>);
  <span class="variable">a</span>.<span class="variable">href</span> = <span class="variable">url</span>;
  <span class="variable">a</span>.<span class="variable">download</span> = <span class="string">'led-preview.svg'</span>;
  <span class="variable">a</span>.<span class="function">click</span>();
  <span class="type">URL</span>.<span class="function">revokeObjectURL</span>(<span class="variable">url</span>);
}
&lt;/<span class="keyword">script</span>&gt;
            </div>
        </div>

        <!-- Complete Example Page -->
        <div class="card" id="complete">
            <h2><span class="step-number">6</span> <span data-i18n="complete.title">Complete Example Page</span></h2>
            <p data-i18n="complete.description">Combine all components into a complete LED configuration page.</p>
            
            <div class="code-block">
                <span class="code-filename">src/views/LedConfigPage.vue</span>
                <button class="copy-btn" onclick="copyCode(this)" data-i18n="buttons.copy">Copy</button>
&lt;<span class="keyword">script</span> <span class="variable">setup</span> <span class="variable">lang</span>=<span class="string">"ts"</span>&gt;
<span class="keyword">import</span> { <span class="variable">ref</span> } <span class="keyword">from</span> <span class="string">'vue'</span>;
<span class="keyword">import</span> <span class="variable">LedCalculator</span> <span class="keyword">from</span> <span class="string">'@/components/LedCalculator.vue'</span>;
<span class="keyword">import</span> <span class="variable">LedPreview</span> <span class="keyword">from</span> <span class="string">'@/components/LedPreview.vue'</span>;
<span class="keyword">import</span> { <span class="variable">useLedCalculator</span> } <span class="keyword">from</span> <span class="string">'@/composables/useLedCalculator'</span>;

<span class="keyword">const</span> <span class="variable">activeTab</span> = <span class="function">ref</span>(<span class="string">'single'</span>);

<span class="keyword">const</span> {
  <span class="variable">loading</span>,
  <span class="variable">previewSvg</span>,
  <span class="variable">optimalLayoutResult</span>,
} = <span class="function">useLedCalculator</span>();
&lt;/<span class="keyword">script</span>&gt;
            </div>
        </div>


        <!-- Best Practices -->
        <div class="card" id="tips">
            <h2><span class="step-number">7</span> <span data-i18n="tips.title">Best Practices & Notes</span></h2>
            
            <h3 data-i18n="tips.errorHandling">ðŸ”§ Error Handling</h3>
            <p data-i18n="tips.errorDescription">Recommend unified error handling in API service layer with friendly error messages:</p>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" data-i18n="buttons.copy">Copy</button>
<span class="comment" data-i18n-comment="addErrorHandling">// Add error handling in api/ledCalculator.ts</span>
<span class="keyword">export class</span> <span class="type">ApiError</span> <span class="keyword">extends</span> <span class="type">Error</span> {
  <span class="variable">code</span>: <span class="type">string</span>;
  <span class="variable">details</span>?: <span class="type">unknown</span>;

  <span class="keyword">constructor</span>(<span class="variable">code</span>: <span class="type">string</span>, <span class="variable">message</span>: <span class="type">string</span>, <span class="variable">details</span>?: <span class="type">unknown</span>) {
    <span class="keyword">super</span>(<span class="variable">message</span>);
    <span class="keyword">this</span>.<span class="variable">code</span> = <span class="variable">code</span>;
    <span class="keyword">this</span>.<span class="variable">details</span> = <span class="variable">details</span>;
  }
}

<span class="comment" data-i18n-comment="errorMapping">// Error code mapping</span>
<span class="keyword">const</span> <span class="variable">errorMessages</span>: <span class="type">Record</span>&lt;<span class="type">string</span>, <span class="type">string</span>&gt; = {
  <span class="string">'VALIDATION_ERROR'</span>: <span class="string" data-i18n-string="validationError">'Parameter validation failed, please check input'</span>,
  <span class="string">'CABINET_LIMIT_EXCEEDED'</span>: <span class="string" data-i18n-string="cabinetLimitExceeded">'Cabinet count exceeds limit (max 1000)'</span>,
  <span class="string">'SCREEN_SIZE_EXCEEDED'</span>: <span class="string" data-i18n-string="screenSizeExceeded">'Screen size exceeds limit (max 50m)'</span>,
  <span class="string">'CALCULATION_ERROR'</span>: <span class="string" data-i18n-string="calculationError">'Calculation error, please try again later'</span>,
};
            </div>

            <h3 data-i18n="tips.performance">âš¡ Performance Optimization</h3>
            <div class="note">
                <div class="note-title" data-i18n="tips.performanceRecommendations">ðŸ’¡ Recommendations</div>
                <ul style="margin-left: 20px;">
                    <li data-i18n="tips.useWithPreview">Use *WithPreview one-click interfaces to reduce network requests</li>
                    <li data-i18n="tips.cacheResults">Cache calculation results to avoid repeated calculations</li>
                    <li data-i18n="tips.debounceInput">Use debounce for user input to avoid frequent requests</li>
                    <li data-i18n="tips.optimizeRender">SVG preview can use v-once directive to optimize rendering</li>
                </ul>
            </div>

            <h3 data-i18n="tips.security">ðŸ”’ Security Recommendations</h3>
            <div class="warning">
                <div class="warning-title" data-i18n="tips.securityNotes">âš ï¸ Notes</div>
                <ul style="margin-left: 20px;">
                    <li data-i18n="tips.svgSecurity">When rendering API-returned SVG with v-html, ensure the source is trusted</li>
                    <li data-i18n="tips.inputValidation">Validate user input to avoid passing illegal parameters</li>
                    <li data-i18n="tips.corsConfig">Configure CORS whitelist in production environment</li>
                </ul>
            </div>

            <h3 data-i18n="tips.i18nSupport">ðŸŒ Internationalization Support</h3>
            <p data-i18n="tips.i18nDescription">API supports Chinese and English preview images, controlled by previewOptions.language parameter:</p>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)" data-i18n="buttons.copy">Copy</button>
<span class="comment" data-i18n-comment="setByUserLang">// Set preview options based on user language</span>
<span class="keyword">const</span> <span class="variable">previewOptions</span> = {
  <span class="variable">showDimensions</span>: <span class="keyword">true</span>,
  <span class="variable">showPerson</span>: <span class="keyword">true</span>,
  <span class="variable">language</span>: <span class="variable">locale</span>.<span class="variable">value</span> === <span class="string">'en'</span> ? <span class="string">'en'</span> : <span class="string">'zh'</span>,  <span class="comment" data-i18n-comment="setByCurrentLang">// Set based on current language</span>
};
            </div>
        </div>

        <!-- Footer -->
        <div style="text-align:center;padding:40px;color:#6c757d;">
            <p data-i18n="footer.title">ðŸŸ¢ LED Calculator API - Vue Integration Guide</p>
            <p style="margin-top:8px;"><span data-i18n="footer.apiUrl">API URL</span>: <code>https://led-api.unilumin-gtm.com</code></p>
            <p style="margin-top:8px;">
                <a href="/" style="color:#42b883;" data-i18n="footer.testPage">Test Page</a> Â· 
                <a href="/docs" style="color:#42b883;" data-i18n="footer.apiDocs">API Docs</a>
            </p>
        </div>
    </div>


    <script>
    // ==================== i18n Internationalization Module ====================
    const i18n = {
        currentLang: 'en',
        
        translations: {
            zh: {
                header: {
                    title: 'ðŸŸ¢ Vue é›†æˆæŒ‡å—',
                    subtitle: 'LED Calculator API åœ¨ Vue 3 é¡¹ç›®ä¸­çš„å®Œæ•´é›†æˆæ•™ç¨‹',
                    testPage: 'ðŸ§ª æµ‹è¯•é¡µé¢',
                    apiDocs: 'ðŸ“š APIæ–‡æ¡£'
                },
                toc: {
                    title: 'ðŸ“‹ ç›®å½•',
                    overview: 'æ¦‚è¿°ä¸Žå‡†å¤‡',
                    step1: 'Step 1: åˆ›å»º API æœåŠ¡å±‚',
                    step2: 'Step 2: åˆ›å»ºç±»åž‹å®šä¹‰',
                    step3: 'Step 3: åˆ›å»º Composable Hook',
                    step4: 'Step 4: åˆ›å»ºè®¡ç®—å™¨ç»„ä»¶',
                    step5: 'Step 5: åˆ›å»ºé¢„è§ˆç»„ä»¶',
                    complete: 'å®Œæ•´ç¤ºä¾‹é¡µé¢',
                    tips: 'æœ€ä½³å®žè·µä¸Žæ³¨æ„äº‹é¡¹'
                },
                overview: {
                    title: 'æ¦‚è¿°ä¸Žå‡†å¤‡',
                    description: 'æœ¬æŒ‡å—å°†å¸®åŠ©ä½ åœ¨ Vue 3 + TypeScript é¡¹ç›®ä¸­é›†æˆ LED Calculator APIï¼Œå®žçŽ°LEDæ˜¾ç¤ºå±é…ç½®è®¡ç®—å’Œé¢„è§ˆåŠŸèƒ½ã€‚',
                    techRequirements: 'æŠ€æœ¯æ ˆè¦æ±‚',
                    recommended: 'æŽ¨è',
                    buildTool: 'Vite æˆ– Vue CLI',
                    apiInfo: 'API åŸºç¡€ä¿¡æ¯',
                    projectStructure: 'é¡¹ç›®ç»“æž„å»ºè®®'
                },
                step1: {
                    title: 'åˆ›å»º API æœåŠ¡å±‚',
                    description: 'é¦–å…ˆåˆ›å»ºä¸€ä¸ªç»Ÿä¸€çš„ API æœåŠ¡æ–‡ä»¶ï¼Œå°è£…æ‰€æœ‰ä¸Ž LED Calculator API çš„äº¤äº’é€»è¾‘ã€‚',
                    noteTitle: 'ðŸ’¡ æç¤º',
                    note: 'æŽ¨èä½¿ç”¨ *WithPreview æŽ¥å£ï¼Œä¸€æ¬¡è¯·æ±‚åŒæ—¶èŽ·å–è®¡ç®—ç»“æžœå’Œé¢„è§ˆå›¾ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚æ¬¡æ•°ã€‚'
                },
                step2: {
                    title: 'åˆ›å»ºç±»åž‹å®šä¹‰',
                    description: 'å®šä¹‰ TypeScript æŽ¥å£ï¼Œç¡®ä¿ç±»åž‹å®‰å…¨å’Œä»£ç æç¤ºã€‚'
                },
                step3: {
                    title: 'åˆ›å»º Composable Hook',
                    description: 'åˆ›å»º Vue 3 Composableï¼Œå°è£…çŠ¶æ€ç®¡ç†å’Œ API è°ƒç”¨é€»è¾‘ï¼Œæ–¹ä¾¿åœ¨ç»„ä»¶ä¸­å¤ç”¨ã€‚'
                },
                step4: {
                    title: 'åˆ›å»ºè®¡ç®—å™¨ç»„ä»¶',
                    description: 'åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ LED è®¡ç®—å™¨è¡¨å•ç»„ä»¶ï¼ŒåŒ…å«ç®±ä½“å‚æ•°è¾“å…¥å’Œå¢™é¢å°ºå¯¸é…ç½®ã€‚'
                },
                step5: {
                    title: 'åˆ›å»ºé¢„è§ˆç»„ä»¶',
                    description: 'åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ SVG é¢„è§ˆç»„ä»¶ï¼Œå¯ä»¥å¤ç”¨åœ¨ä¸åŒåœºæ™¯ã€‚'
                },
                complete: {
                    title: 'å®Œæ•´ç¤ºä¾‹é¡µé¢',
                    description: 'å°†æ‰€æœ‰ç»„ä»¶ç»„åˆæˆä¸€ä¸ªå®Œæ•´çš„ LED é…ç½®é¡µé¢ã€‚'
                },
                tips: {
                    title: 'æœ€ä½³å®žè·µä¸Žæ³¨æ„äº‹é¡¹',
                    errorHandling: 'ðŸ”§ é”™è¯¯å¤„ç†',
                    errorDescription: 'å»ºè®®åœ¨ API æœåŠ¡å±‚ç»Ÿä¸€å¤„ç†é”™è¯¯ï¼Œå¹¶æä¾›å‹å¥½çš„é”™è¯¯æç¤ºï¼š',
                    performance: 'âš¡ æ€§èƒ½ä¼˜åŒ–',
                    performanceRecommendations: 'ðŸ’¡ æŽ¨èåšæ³•',
                    useWithPreview: 'ä½¿ç”¨ *WithPreview ä¸€é”®æŽ¥å£ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚',
                    cacheResults: 'å¯¹è®¡ç®—ç»“æžœè¿›è¡Œç¼“å­˜ï¼Œé¿å…é‡å¤è®¡ç®—',
                    debounceInput: 'ä½¿ç”¨é˜²æŠ–å¤„ç†ç”¨æˆ·è¾“å…¥ï¼Œé¿å…é¢‘ç¹è¯·æ±‚',
                    optimizeRender: 'SVG é¢„è§ˆå›¾å¯ä»¥ä½¿ç”¨ v-once æŒ‡ä»¤ä¼˜åŒ–æ¸²æŸ“',
                    security: 'ðŸ”’ å®‰å…¨å»ºè®®',
                    securityNotes: 'âš ï¸ æ³¨æ„äº‹é¡¹',
                    svgSecurity: 'API è¿”å›žçš„ SVG ä½¿ç”¨ v-html æ¸²æŸ“æ—¶ï¼Œç¡®ä¿æ¥æºå¯ä¿¡',
                    inputValidation: 'å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡ŒéªŒè¯ï¼Œé¿å…ä¼ å…¥éžæ³•å‚æ•°',
                    corsConfig: 'ç”Ÿäº§çŽ¯å¢ƒå»ºè®®é…ç½® CORS ç™½åå•',
                    i18nSupport: 'ðŸŒ å›½é™…åŒ–æ”¯æŒ',
                    i18nDescription: 'API æ”¯æŒä¸­è‹±æ–‡é¢„è§ˆå›¾ï¼Œé€šè¿‡ previewOptions.language å‚æ•°æŽ§åˆ¶ï¼š'
                },
                footer: {
                    title: 'ðŸŸ¢ LED Calculator API - Vue é›†æˆæŒ‡å—',
                    apiUrl: 'APIåœ°å€',
                    testPage: 'æµ‹è¯•é¡µé¢',
                    apiDocs: 'APIæ–‡æ¡£'
                },
                buttons: { copy: 'å¤åˆ¶', copied: 'å·²å¤åˆ¶!' },
                lang: { chinese: 'ä¸­æ–‡', english: 'EN' },
                comments: {
                    apiBase: '// API åŸºç¡€åœ°å€',
                    mainEndpoints: '// ä¸»è¦æŽ¥å£',
                    singleOptimal: '// POST /api/calculate/optimal-layout          - å•ç®±ä½“æœ€ä¼˜å¸ƒå±€',
                    multiSmart: '// POST /api/calculate/smart-combination       - å¤šç®±ä½“æ™ºèƒ½ç»„åˆ',
                    singlePreview: '// POST /api/calculate/optimal-layout-with-preview    - å•ç®±ä½“ä¸€é”®è®¡ç®—+é¢„è§ˆ',
                    multiPreview: '// POST /api/calculate/smart-combination-with-preview - å¤šç®±ä½“ä¸€é”®è®¡ç®—+é¢„è§ˆ',
                    svgPreview: '// POST /api/preview/svg                       - SVGé¢„è§ˆç”Ÿæˆ',
                    apiService: '// API æœåŠ¡å±‚',
                    typeDefinitions: '// TypeScript ç±»åž‹å®šä¹‰',
                    calculatorComposable: '// Vue Composable Hook',
                    singleCalc: '// è®¡ç®—å™¨ç»„ä»¶',
                    previewComponent: '// é¢„è§ˆç»„ä»¶',
                    completePage: '// å®Œæ•´é¡µé¢',
                    serviceLayerDoc: '/**\n * LED Calculator API æœåŠ¡å±‚\n * å°è£…æ‰€æœ‰ API è°ƒç”¨é€»è¾‘\n */',
                    commonRequest: '// é€šç”¨è¯·æ±‚æ–¹æ³•',
                    singleOptimalLayout: '/**\n * å•ç®±ä½“æœ€ä¼˜å¸ƒå±€è®¡ç®—\n */',
                    singleOptimalPreview: '/**\n * å•ç®±ä½“ä¸€é”®è®¡ç®—+é¢„è§ˆï¼ˆæŽ¨èï¼‰\n */',
                    multiSmartCombination: '/**\n * å¤šç®±ä½“æ™ºèƒ½ç»„åˆè®¡ç®—\n */',
                    multiSmartPreview: '/**\n * å¤šç®±ä½“ä¸€é”®è®¡ç®—+é¢„è§ˆï¼ˆæŽ¨èï¼‰\n */',
                    generateSvgPreview: '/**\n * ç”ŸæˆSVGé¢„è§ˆå›¾\n */',
                    typeDefinitionsDoc: '/**\n * LED Calculator API ç±»åž‹å®šä¹‰\n */',
                    cabinetSpecs: '// ========== ç®±ä½“è§„æ ¼ ==========',
                    cabinetWidth: '// ç®±ä½“å®½åº¦ (mm)',
                    cabinetHeight: '// ç®±ä½“é«˜åº¦ (mm)',
                    cabinetDepth: '// ç®±ä½“æ·±åº¦ (mm)',
                    pixelPitch: '// åƒç´ é—´è· (mm)',
                    horizontalRes: '// æ°´å¹³åˆ†è¾¨çŽ‡ (px)',
                    verticalRes: '// åž‚ç›´åˆ†è¾¨çŽ‡ (px)',
                    brightness: '// äº®åº¦ (nits)',
                    refreshRate: '// åˆ·æ–°çŽ‡ (Hz)',
                    colorDepth: '// è‰²æ·± (bit)',
                    maxPower: '// æœ€å¤§åŠŸçŽ‡ (W)',
                    typicalPower: '// å…¸åž‹åŠŸçŽ‡ (W)',
                    standbyPower: '// å¾…æœºåŠŸçŽ‡ (W)',
                    weight: '// é‡é‡ (kg)',
                    cabinetWithId: '// å¸¦IDçš„ç®±ä½“ï¼ˆç”¨äºŽå¤šç®±ä½“ç»„åˆï¼‰',
                    wallConfig: '// ========== å¢™é¢é…ç½® ==========',
                    previewOptions: '// ========== é¢„è§ˆé€‰é¡¹ ==========',
                    showDimensions: '// æ˜¾ç¤ºå°ºå¯¸æ ‡æ³¨',
                    showPerson: '// æ˜¾ç¤ºäººç‰©å‚ç…§',
                    canvasWidth: '// ç”»å¸ƒå®½åº¦ (px)',
                    canvasHeight: '// ç”»å¸ƒé«˜åº¦ (px)',
                    language: '// è¯­è¨€',
                    apiResponse: '// ========== API å“åº”ç±»åž‹ ==========',
                    singleLayoutResponse: '// å•ç®±ä½“å¸ƒå±€å“åº”',
                    responseWithPreview: '// å¸¦é¢„è§ˆçš„å“åº”',
                    multiCombinationResponse: '// å¤šç®±ä½“ç»„åˆå“åº”',
                    previewResponse: '// é¢„è§ˆå“åº”',
                    composableDoc: '/**\n * LED è®¡ç®—å™¨ Composable\n * æä¾›å“åº”å¼çŠ¶æ€å’Œè®¡ç®—æ–¹æ³•\n */',
                    state: '// ========== çŠ¶æ€ ==========',
                    singleResult: '// å•ç®±ä½“è®¡ç®—ç»“æžœ',
                    svgPreview: '// SVG é¢„è§ˆ',
                    defaultPreview: '// é»˜è®¤é¢„è§ˆé€‰é¡¹',
                    methods: '// ========== æ–¹æ³• ==========',
                    singleOptimalCalc: '/**\n * å•ç®±ä½“æœ€ä¼˜å¸ƒå±€è®¡ç®—\n */',
                    clearResults: '/**\n * æ¸…é™¤ç»“æžœ\n */',
                    useComposable: '// ä½¿ç”¨ composable',
                    formData: '// è¡¨å•æ•°æ®',
                    submitCalc: '// æäº¤è®¡ç®—',
                    downloadSvg: '// ä¸‹è½½ SVG',
                    addErrorHandling: '// åœ¨ api/ledCalculator.ts ä¸­æ·»åŠ é”™è¯¯å¤„ç†',
                    errorMapping: '// é”™è¯¯ç æ˜ å°„',
                    setByUserLang: '// æ ¹æ®ç”¨æˆ·è¯­è¨€è®¾ç½®é¢„è§ˆé€‰é¡¹',
                    setByCurrentLang: '// æ ¹æ®å½“å‰è¯­è¨€è®¾ç½®'
                },
                strings: {
                    apiRequestFailed: 'APIè¯·æ±‚å¤±è´¥',
                    calculationFailed: 'è®¡ç®—å¤±è´¥',
                    unknownError: 'æœªçŸ¥é”™è¯¯',
                    calculationFailedColon: 'è®¡ç®—å¤±è´¥:',
                    validationError: 'å‚æ•°éªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥è¾“å…¥',
                    cabinetLimitExceeded: 'ç®±ä½“æ•°é‡è¶…è¿‡é™åˆ¶ï¼ˆæœ€å¤§1000ä¸ªï¼‰',
                    screenSizeExceeded: 'å±å¹•å°ºå¯¸è¶…è¿‡é™åˆ¶ï¼ˆæœ€å¤§50ç±³ï¼‰',
                    calculationError: 'è®¡ç®—å‡ºé”™ï¼Œè¯·ç¨åŽé‡è¯•'
                }
            },
            en: {
                header: {
                    title: 'ðŸŸ¢ Vue Integration Guide',
                    subtitle: 'Complete integration tutorial for LED Calculator API in Vue 3 projects',
                    testPage: 'ðŸ§ª Test Page',
                    apiDocs: 'ðŸ“š API Docs'
                },
                toc: {
                    title: 'ðŸ“‹ Table of Contents',
                    overview: 'Overview & Preparation',
                    step1: 'Step 1: Create API Service Layer',
                    step2: 'Step 2: Create Type Definitions',
                    step3: 'Step 3: Create Composable Hook',
                    step4: 'Step 4: Create Calculator Component',
                    step5: 'Step 5: Create Preview Component',
                    complete: 'Complete Example Page',
                    tips: 'Best Practices & Notes'
                },
                overview: {
                    title: 'Overview & Preparation',
                    description: 'This guide will help you integrate LED Calculator API in Vue 3 + TypeScript projects to implement LED display configuration calculation and preview functionality.',
                    techRequirements: 'Technology Stack Requirements',
                    recommended: 'Recommended',
                    buildTool: 'Vite or Vue CLI',
                    apiInfo: 'API Basic Information',
                    projectStructure: 'Suggested Project Structure'
                },
                step1: {
                    title: 'Create API Service Layer',
                    description: 'First create a unified API service file to encapsulate all interaction logic with LED Calculator API.',
                    noteTitle: 'ðŸ’¡ Tip',
                    note: 'Recommend using *WithPreview interfaces to get both calculation results and preview in one request, reducing network requests.'
                },
                step2: {
                    title: 'Create Type Definitions',
                    description: 'Define TypeScript interfaces to ensure type safety and code hints.'
                },
                step3: {
                    title: 'Create Composable Hook',
                    description: 'Create Vue 3 Composable to encapsulate state management and API call logic for easy reuse in components.'
                },
                step4: {
                    title: 'Create Calculator Component',
                    description: 'Create a complete LED calculator form component with cabinet parameter input and wall dimension configuration.'
                },
                step5: {
                    title: 'Create Preview Component',
                    description: 'Create an independent SVG preview component that can be reused in different scenarios.'
                },
                complete: {
                    title: 'Complete Example Page',
                    description: 'Combine all components into a complete LED configuration page.'
                },
                tips: {
                    title: 'Best Practices & Notes',
                    errorHandling: 'ðŸ”§ Error Handling',
                    errorDescription: 'Recommend unified error handling in API service layer with friendly error messages:',
                    performance: 'âš¡ Performance Optimization',
                    performanceRecommendations: 'ðŸ’¡ Recommendations',
                    useWithPreview: 'Use *WithPreview one-click interfaces to reduce network requests',
                    cacheResults: 'Cache calculation results to avoid repeated calculations',
                    debounceInput: 'Use debounce for user input to avoid frequent requests',
                    optimizeRender: 'SVG preview can use v-once directive to optimize rendering',
                    security: 'ðŸ”’ Security Recommendations',
                    securityNotes: 'âš ï¸ Notes',
                    svgSecurity: 'When rendering API-returned SVG with v-html, ensure the source is trusted',
                    inputValidation: 'Validate user input to avoid passing illegal parameters',
                    corsConfig: 'Configure CORS whitelist in production environment',
                    i18nSupport: 'ðŸŒ Internationalization Support',
                    i18nDescription: 'API supports Chinese and English preview images, controlled by previewOptions.language parameter:'
                },
                footer: {
                    title: 'ðŸŸ¢ LED Calculator API - Vue Integration Guide',
                    apiUrl: 'API URL',
                    testPage: 'Test Page',
                    apiDocs: 'API Docs'
                },
                buttons: { copy: 'Copy', copied: 'Copied!' },
                lang: { chinese: 'ä¸­æ–‡', english: 'EN' },
                comments: {
                    apiBase: '// API Base URL',
                    mainEndpoints: '// Main Endpoints',
                    singleOptimal: '// POST /api/calculate/optimal-layout          - Single cabinet optimal layout',
                    multiSmart: '// POST /api/calculate/smart-combination       - Multi-cabinet smart combination',
                    singlePreview: '// POST /api/calculate/optimal-layout-with-preview    - Single cabinet one-click calculation + preview',
                    multiPreview: '// POST /api/calculate/smart-combination-with-preview - Multi-cabinet one-click calculation + preview',
                    svgPreview: '// POST /api/preview/svg                       - SVG preview generation',
                    apiService: '// API service layer',
                    typeDefinitions: '// TypeScript type definitions',
                    calculatorComposable: '// Vue Composable Hook',
                    singleCalc: '// Calculator component',
                    previewComponent: '// Preview component',
                    completePage: '// Complete page',
                    serviceLayerDoc: '/**\n * LED Calculator API Service Layer\n * Encapsulate all API call logic\n */',
                    commonRequest: '// Common request method',
                    singleOptimalLayout: '/**\n * Single cabinet optimal layout calculation\n */',
                    singleOptimalPreview: '/**\n * Single cabinet one-click calculation + preview (recommended)\n */',
                    multiSmartCombination: '/**\n * Multi-cabinet smart combination calculation\n */',
                    multiSmartPreview: '/**\n * Multi-cabinet one-click calculation + preview (recommended)\n */',
                    generateSvgPreview: '/**\n * Generate SVG preview\n */',
                    typeDefinitionsDoc: '/**\n * LED Calculator API Type Definitions\n */',
                    cabinetSpecs: '// ========== Cabinet Specifications ==========',
                    cabinetWidth: '// Cabinet width (mm)',
                    cabinetHeight: '// Cabinet height (mm)',
                    cabinetDepth: '// Cabinet depth (mm)',
                    pixelPitch: '// Pixel pitch (mm)',
                    horizontalRes: '// Horizontal resolution (px)',
                    verticalRes: '// Vertical resolution (px)',
                    brightness: '// Brightness (nits)',
                    refreshRate: '// Refresh rate (Hz)',
                    colorDepth: '// Color depth (bit)',
                    maxPower: '// Max power (W)',
                    typicalPower: '// Typical power (W)',
                    standbyPower: '// Standby power (W)',
                    weight: '// Weight (kg)',
                    cabinetWithId: '// Cabinet with ID (for multi-cabinet combination)',
                    wallConfig: '// ========== Wall Configuration ==========',
                    previewOptions: '// ========== Preview Options ==========',
                    showDimensions: '// Show dimension annotations',
                    showPerson: '// Show person reference',
                    canvasWidth: '// Canvas width (px)',
                    canvasHeight: '// Canvas height (px)',
                    language: '// Language',
                    apiResponse: '// ========== API Response Types ==========',
                    singleLayoutResponse: '// Single cabinet layout response',
                    responseWithPreview: '// Response with preview',
                    multiCombinationResponse: '// Multi-cabinet combination response',
                    previewResponse: '// Preview response',
                    composableDoc: '/**\n * LED Calculator Composable\n * Provide reactive state and calculation methods\n */',
                    state: '// ========== State ==========',
                    singleResult: '// Single cabinet calculation result',
                    svgPreview: '// SVG preview',
                    defaultPreview: '// Default preview options',
                    methods: '// ========== Methods ==========',
                    singleOptimalCalc: '/**\n * Single cabinet optimal layout calculation\n */',
                    clearResults: '/**\n * Clear results\n */',
                    useComposable: '// Use composable',
                    formData: '// Form data',
                    submitCalc: '// Submit calculation',
                    downloadSvg: '// Download SVG',
                    addErrorHandling: '// Add error handling in api/ledCalculator.ts',
                    errorMapping: '// Error code mapping',
                    setByUserLang: '// Set preview options based on user language',
                    setByCurrentLang: '// Set based on current language'
                },
                strings: {
                    apiRequestFailed: 'API request failed',
                    calculationFailed: 'Calculation failed',
                    unknownError: 'Unknown error',
                    calculationFailedColon: 'Calculation failed:',
                    validationError: 'Parameter validation failed, please check input',
                    cabinetLimitExceeded: 'Cabinet count exceeds limit (max 1000)',
                    screenSizeExceeded: 'Screen size exceeds limit (max 50m)',
                    calculationError: 'Calculation error, please try again later'
                }
            }
        },

        // Get translation by key path
        t(key) {
            const keys = key.split('.');
            let value = this.translations[this.currentLang];
            for (const k of keys) {
                value = value?.[k];
            }
            return value || key;
        },

        // Switch language
        setLanguage(lang) {
            this.currentLang = lang;
            localStorage.setItem('led-calculator-lang', lang);
            this.updateDOM();
            this.updateLanguageSwitcher();
        },

        // Update all translatable elements
        updateDOM() {
            // Update text content
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                const translation = this.t(key);
                if (translation !== key) {
                    el.textContent = translation;
                }
            });

            // Update code comments
            document.querySelectorAll('[data-i18n-comment]').forEach(el => {
                const key = el.getAttribute('data-i18n-comment');
                const translation = this.t('comments.' + key);
                if (translation && translation !== 'comments.' + key) {
                    el.textContent = translation;
                }
            });

            // Update code strings
            document.querySelectorAll('[data-i18n-string]').forEach(el => {
                const key = el.getAttribute('data-i18n-string');
                const translation = this.t('strings.' + key);
                if (translation && translation !== 'strings.' + key) {
                    el.textContent = "'" + translation + "'";
                }
            });

            // Update document title
            document.title = this.t('header.title').replace('ðŸŸ¢ ', '') + ' - LED Calculator API';

            // Update meta description
            const metaDesc = document.querySelector('meta[name="description"]');
            if (metaDesc) {
                metaDesc.content = this.t('header.subtitle');
            }

            // Update HTML lang attribute
            const htmlRoot = document.querySelector('html');
            if (htmlRoot) {
                htmlRoot.lang = this.currentLang === 'en' ? 'en' : 'zh-CN';
            }
        },

        // Update language switcher buttons
        updateLanguageSwitcher() {
            document.querySelectorAll('.lang-btn').forEach(btn => {
                const lang = btn.getAttribute('data-lang');
                btn.classList.toggle('active', lang === this.currentLang);
            });
        },

        // Initialize i18n
        init() {
            // Get saved language or detect browser language
            const savedLang = localStorage.getItem('led-calculator-lang');
            const browserLang = navigator.language.toLowerCase();
            
            if (savedLang && ['zh', 'en'].includes(savedLang)) {
                this.currentLang = savedLang;
            } else if (browserLang.includes('zh')) {
                this.currentLang = 'zh';
            } else {
                this.currentLang = 'en';
            }

            this.updateDOM();
            this.updateLanguageSwitcher();
        }
    };

    // Copy code function
    function copyCode(btn) {
        const codeBlock = btn.parentElement;
        const code = codeBlock.innerText
            .replace(i18n.t('buttons.copy'), '')
            .replace(/src\/.*\.vue|src\/.*\.ts/g, '')
            .trim();
        
        navigator.clipboard.writeText(code).then(() => {
            const originalText = btn.innerText;
            btn.innerText = i18n.t('buttons.copied');
            btn.style.color = '#42b883';
            setTimeout(() => {
                btn.innerText = i18n.t('buttons.copy');
                btn.style.color = '';
            }, 2000);
        });
    }

    // Initialize i18n when DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
        i18n.init();
    });
    </script>
</body>
</html>
