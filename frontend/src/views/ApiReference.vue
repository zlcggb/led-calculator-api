<script setup lang="ts">
import { useI18n } from 'vue-i18n'
import { computed } from 'vue'
import CodeBlock from '../components/CodeBlock.vue'

const { t, locale } = useI18n()

const tocItems = [
  { id: 'overview', key: 'docs.toc.overview' },
  { id: 'cabinet-specs', key: 'docs.toc.cabinetSpecs' },
  { id: 'room-config', key: 'docs.toc.roomConfig' },
  { id: 'optimal-layout', key: 'docs.toc.optimalLayout' },
  { id: 'smart-combination', key: 'docs.toc.smartCombination' },
  { id: 'oneclick-apis', key: 'docs.toc.oneclickApis' },
  { id: 'preview', key: 'docs.toc.preview' },
  { id: 'examples', key: 'docs.toc.examples' },
]

// Localized comments
const c = computed(() => locale.value === 'zh' ? {
  // Cabinet Specs comments
  dimensions: '// ç®±ä½“å°ºå¯¸',
  width: '// ç®±ä½“å®½åº¦ (mm) - å¿…å¡«',
  height: '// ç®±ä½“é«˜åº¦ (mm) - å¿…å¡«',
  depth: '// ç®±ä½“æ·±åº¦ (mm) - å¯é€‰',
  display: '// æ˜¾ç¤ºå‚æ•°',
  pixelPitch: '// åƒç´ é—´è· (mm) - å¿…å¡«',
  resolution: '// å•ç®±ä½“åˆ†è¾¨ç‡',
  resWidth: '// æ°´å¹³åˆ†è¾¨ç‡ (px) - å¿…å¡«',
  resHeight: '// å‚ç›´åˆ†è¾¨ç‡ (px) - å¿…å¡«',
  brightness: '// äº®åº¦ (nits) - å¯é€‰',
  refreshRate: '// åˆ·æ–°ç‡ (Hz) - å¯é€‰',
  colorDepth: '// è‰²æ·± (bit) - å¯é€‰',
  power: '// åŠŸç‡å‚æ•°',
  maxPower: '// æœ€å¤§åŠŸç‡ (W) - å¿…å¡«',
  typicalPower: '// å…¸å‹åŠŸç‡ (W) - å¿…å¡«',
  standbyPower: '// å¾…æœºåŠŸç‡ (W) - å¯é€‰',
  physical: '// ç‰©ç†å‚æ•°',
  weight: '// å•ç®±ä½“é‡é‡ (kg) - å¿…å¡«',
  // Room Config comments
  roomDimensions: '// å¯ç”¨å¢™é¢å°ºå¯¸',
  roomWidth: '// å¢™é¢å®½åº¦',
  roomHeight: '// å¢™é¢é«˜åº¦',
  unit: '// å•ä½: "meters" æˆ– "feet"',
  wallType: '// å¢™é¢ç±»å‹: "flat"',
  // Response comments
  success: '// è¯·æ±‚æ˜¯å¦æˆåŠŸ',
  columns: '// æ¨èåˆ—æ•°',
  rows: '// æ¨èè¡Œæ•°',
  totalCabinets: '// ç®±ä½“æ€»æ•°',
  screenWidth: '// å±å¹•å®é™…å®½åº¦ (mm)',
  screenHeight: '// å±å¹•å®é™…é«˜åº¦ (mm)',
  coverage: '// å¢™é¢è¦†ç›–ç‡ (0-1)',
  // Smart Combination
  mainCabinet: '// ä¸»ç®±ä½“é…ç½®',
  cabinetId: '// ç®±ä½“å”¯ä¸€æ ‡è¯†ç¬¦',
  specs: '// ç®±ä½“è§„æ ¼ (åŒ CabinetSpecs)',
  auxiliaryCabinets: '// è¾…åŠ©ç®±ä½“æ•°ç»„',
  wallWidthMm: '// å¯ç”¨å¢™é¢å®½åº¦ (mm)',
  wallHeightMm: '// å¯ç”¨å¢™é¢é«˜åº¦ (mm)',
  isFullyFilled: '// æ˜¯å¦å®Œå…¨å¡«å……',
  coveragePercentage: '// è¦†ç›–ç‡ç™¾åˆ†æ¯”',
  bestCombination: '// æœ€ä¼˜ç»„åˆæ–¹æ¡ˆ',
  count: '// è¯¥ç®±ä½“æ•°é‡',
  adjustedSize: '// å®é™…å±å¹•å°ºå¯¸ (mm)',
  // Preview
  showDimensions: '// æ˜¾ç¤ºå°ºå¯¸æ ‡æ³¨',
  showPerson: '// æ˜¾ç¤ºäººç‰©å‚ç…§ (1.7m)',
  canvasWidth: '// ç”»å¸ƒå®½åº¦ (px)',
  canvasHeight: '// ç”»å¸ƒé«˜åº¦ (px)',
  language: '// è¯­è¨€: "zh" æˆ– "en"',
  svg: '// SVG å›¾åƒå­—ç¬¦ä¸²',
} : {
  // English comments
  dimensions: '// Cabinet dimensions',
  width: '// Cabinet width (mm) - Required',
  height: '// Cabinet height (mm) - Required',
  depth: '// Cabinet depth (mm) - Optional',
  display: '// Display parameters',
  pixelPitch: '// Pixel pitch (mm) - Required',
  resolution: '// Single cabinet resolution',
  resWidth: '// Horizontal resolution (px) - Required',
  resHeight: '// Vertical resolution (px) - Required',
  brightness: '// Brightness (nits) - Optional',
  refreshRate: '// Refresh rate (Hz) - Optional',
  colorDepth: '// Color depth (bit) - Optional',
  power: '// Power parameters',
  maxPower: '// Max power (W) - Required',
  typicalPower: '// Typical power (W) - Required',
  standbyPower: '// Standby power (W) - Optional',
  physical: '// Physical parameters',
  weight: '// Single cabinet weight (kg) - Required',
  // Room Config comments
  roomDimensions: '// Available wall dimensions',
  roomWidth: '// Wall width',
  roomHeight: '// Wall height',
  unit: '// Unit: "meters" or "feet"',
  wallType: '// Wall type: "flat"',
  // Response comments
  success: '// Request success flag',
  columns: '// Recommended columns',
  rows: '// Recommended rows',
  totalCabinets: '// Total cabinet count',
  screenWidth: '// Actual screen width (mm)',
  screenHeight: '// Actual screen height (mm)',
  coverage: '// Wall coverage (0-1)',
  // Smart Combination
  mainCabinet: '// Main cabinet config',
  cabinetId: '// Unique cabinet identifier',
  specs: '// Cabinet specs (same as CabinetSpecs)',
  auxiliaryCabinets: '// Auxiliary cabinets array',
  wallWidthMm: '// Available wall width (mm)',
  wallHeightMm: '// Available wall height (mm)',
  isFullyFilled: '// Whether fully filled',
  coveragePercentage: '// Coverage percentage',
  bestCombination: '// Optimal combination',
  count: '// Cabinet count',
  adjustedSize: '// Actual screen size (mm)',
  // Preview
  showDimensions: '// Show dimension annotations',
  showPerson: '// Show person reference (1.7m)',
  canvasWidth: '// Canvas width (px)',
  canvasHeight: '// Canvas height (px)',
  language: '// Language: "zh" or "en"',
  svg: '// SVG image string',
})

// Code examples
const cabinetSpecsCode = computed(() => `{
  "dimensions": {                    ${c.value.dimensions}
    "width": 500,                    ${c.value.width}
    "height": 1000,                  ${c.value.height}
    "depth": 40                      ${c.value.depth}
  },
  "display": {                       ${c.value.display}
    "pixelPitch": 1.5625,            ${c.value.pixelPitch}
    "resolution": {                  ${c.value.resolution}
      "width": 320,                  ${c.value.resWidth}
      "height": 640                  ${c.value.resHeight}
    },
    "brightness": 1000,              ${c.value.brightness}
    "refreshRate": 5760,             ${c.value.refreshRate}
    "colorDepth": 16                 ${c.value.colorDepth}
  },
  "power": {                         ${c.value.power}
    "maxPower": 180,                 ${c.value.maxPower}
    "typicalPower": 60,              ${c.value.typicalPower}
    "standbyPower": 5                ${c.value.standbyPower}
  },
  "physical": {                      ${c.value.physical}
    "weight": 10.5                   ${c.value.weight}
  }
}`)

const roomConfigCode = computed(() => `{
  "dimensions": {                    ${c.value.roomDimensions}
    "width": 5,                      ${c.value.roomWidth}
    "height": 3                      ${c.value.roomHeight}
  },
  "unit": "meters",                  ${c.value.unit}
  "wallType": "flat"                 ${c.value.wallType}
}`)

// Full request with power/weight data
const optimalLayoutRequestCode = computed(() => `{
  "cabinetSpecs": {
    "dimensions": { "width": 500, "height": 1000, "depth": 40 },
    "display": {
      "pixelPitch": 1.5625,
      "resolution": { "width": 320, "height": 640 },
      "brightness": 1000,
      "refreshRate": 5760
    },
    "power": { "maxPower": 180, "typicalPower": 60 },  // ${locale.value === 'zh' ? 'å¯é€‰: ä¼ å…¥åˆ™è¿”å›åŠŸè€—ç»Ÿè®¡' : 'Optional: If provided, returns power stats'}
    "physical": { "weight": 10.5 }                     // ${locale.value === 'zh' ? 'å¯é€‰: ä¼ å…¥åˆ™è¿”å›é‡é‡ç»Ÿè®¡' : 'Optional: If provided, returns weight stats'}
  },
  "roomConfig": {
    "dimensions": { "width": 5, "height": 3 },
    "unit": "meters",
    "wallType": "flat"
  }
}`)

// Layout-only request (without power/weight)
const layoutOnlyRequestCode = computed(() => `{
  "cabinetSpecs": {
    "dimensions": { "width": 500, "height": 1000, "depth": 40 },
    "display": {
      "pixelPitch": 1.5625,
      "resolution": { "width": 320, "height": 640 },
      "brightness": 1000,
      "refreshRate": 5760
    }
    ${locale.value === 'zh' ? '// ä¸ä¼  power/physical â†’ ä»…è¿”å›å¸ƒå±€ç»“æœ' : '// No power/physical â†’ Returns layout only'}
  },
  "roomConfig": {
    "dimensions": { "width": 5, "height": 3 },
    "unit": "meters",
    "wallType": "flat"
  }
}`)

// Layout-only response (without power/weight)
const layoutOnlyResponseCode = computed(() => `{
  "success": true,
  "data": {
    "columns": 10,
    "rows": 3,
    "totalCabinets": 30,
    "wallWidth": 5000,
    "wallHeight": 3000,
    "coverage": 1.0
    ${locale.value === 'zh' ? '// æ—  powerConsumption/physical å­—æ®µ' : '// No powerConsumption/physical fields'}
  }
}`)

const optimalLayoutResponseCode = computed(() => `{
  "success": true,                   ${c.value.success}
  "data": {
    "columns": 10,                   ${c.value.columns}
    "rows": 3,                       ${c.value.rows}
    "totalCabinets": 30,             ${c.value.totalCabinets}
    "wallWidth": 5000,               ${c.value.screenWidth}
    "wallHeight": 3000,              ${c.value.screenHeight}
    "coverage": 1.0,                 ${c.value.coverage}
    "powerConsumption": {            ${locale.value === 'zh' ? '// âš¡ åŠŸè€—ç»Ÿè®¡ (å½“ä¼ å…¥poweræ—¶è¿”å›)' : '// âš¡ Power stats (returned if power provided)'}
      "maximum": 5400,               ${locale.value === 'zh' ? '// æœ€å¤§åŠŸç‡ (W)' : '// Maximum power (W)'}
      "typical": 1800                ${locale.value === 'zh' ? '// å…¸å‹åŠŸç‡ (W)' : '// Typical power (W)'}
    },
    "physical": {                    ${locale.value === 'zh' ? '// ğŸ“¦ ç‰©ç†å‚æ•° (å½“ä¼ å…¥weightæ—¶è¿”å›)' : '// ğŸ“¦ Physical params (returned if weight provided)'}
      "totalWeight": 315             ${locale.value === 'zh' ? '// æ€»é‡é‡ (kg)' : '// Total weight (kg)'}
    }
  }
}`)

const smartCombinationRequestCode = computed(() => `{
  "mainCabinet": {                   ${c.value.mainCabinet}
    "id": "uslimiii-500x1000",       ${c.value.cabinetId}
    "specs": { ... }                 ${c.value.specs}
  },
  "auxiliaryCabinets": [             ${c.value.auxiliaryCabinets}
    {
      "id": "uslimiii-500x500",
      "specs": { ... }
    },
    {
      "id": "uslimiii-250x500",
      "specs": { ... }
    }
  ],
  "wallWidthMm": 4300,               ${c.value.wallWidthMm}
  "wallHeightMm": 3300                ${c.value.wallHeightMm}
}`)

const smartCombinationResponseCode = computed(() => `{
  "success": true,
  "data": {
    "isFullyFilled": true,           ${c.value.isFullyFilled}
    "coveragePercentage": "100%",    ${c.value.coveragePercentage}
    "bestCombination": [             ${c.value.bestCombination}
      { "id": "uslimiii-500x1000", "count": 24 },
      { "id": "uslimiii-250x500", "count": 6 }
    ],
    "adjustedSize": {                ${c.value.adjustedSize}
      "width": 4250,
      "height": 3000
    },
    "calculationResult": {
      "wallDimensions": { "width": 4.25, "height": 3.0, "area": 12.75 },
      "powerConsumption": { "maximum": 4590, "typical": 1530 },
      "physical": { "totalWeight": 273 }
    }
  }
}`)

const previewOptionsCode = computed(() => `{
  "showDimensions": true,            ${c.value.showDimensions}
  "showPerson": true,                ${c.value.showPerson}
  "canvasWidth": 800,                ${c.value.canvasWidth}
  "canvasHeight": 500,               ${c.value.canvasHeight}
  "language": "zh"                   ${c.value.language}
}`)

const oneClickRequestCode = computed(() => `{
  "cabinetSpecs": { ... },           ${locale.value === 'zh' ? '// ç®±ä½“è§„æ ¼' : '// Cabinet specs'}
  "roomConfig": { ... },             ${locale.value === 'zh' ? '// å¢™é¢é…ç½®' : '// Room config'}
  "targetResolution": "Custom",      ${locale.value === 'zh' ? '// ç›®æ ‡åˆ†è¾¨ç‡ (å¯é€‰): "FHD" | "UHD" | "8K" | "Custom"' : '// Target resolution (optional): "FHD" | "UHD" | "8K" | "Custom"'}
  "previewOptions": {                ${locale.value === 'zh' ? '// é¢„è§ˆé€‰é¡¹ (å¯é€‰)' : '// Preview options (optional)'}
    "showDimensions": true,
    "showPerson": true,
    "canvasWidth": 800,
    "canvasHeight": 500,
    "language": "zh"
  }
}`)

// Resolution-based request example
const resolutionBasedRequestCode = computed(() => `{
  "cabinetSpecs": {
    "dimensions": { "width": 500, "height": 500, "depth": 40 },
    "display": {
      "pixelPitch": 1.5625,
      "resolution": { "width": 320, "height": 320 },  ${locale.value === 'zh' ? '// å•ç®±ä½“åˆ†è¾¨ç‡' : '// Single cabinet resolution'}
      "brightness": 1000,
      "refreshRate": 5760
    },
    "power": { "maxPower": 90, "typicalPower": 30 },
    "physical": { "weight": 5.5 }
  },
  "roomConfig": {
    "dimensions": { "width": 10, "height": 6 },       ${locale.value === 'zh' ? '// ä½¿ç”¨åˆ†è¾¨ç‡æ¨¡å¼æ—¶ä¼šè¢«å¿½ç•¥' : '// Ignored when using resolution mode'}
    "unit": "meters",
    "wallType": "flat"
  },
  "targetResolution": "UHD",                          ${locale.value === 'zh' ? '// æŒ‡å®š4Kåˆ†è¾¨ç‡ (3840Ã—2160)' : '// Specify 4K resolution (3840Ã—2160)'}
  "previewOptions": {
    "showDimensions": true,
    "showPerson": true,
    "language": "zh"
  }
}`)

// Resolution-based response example
const resolutionBasedResponseCode = computed(() => `{
  "success": true,
  "data": {
    "columns": 12,                                    ${locale.value === 'zh' ? '// è‡ªåŠ¨è®¡ç®—: ceil(3840/320) = 12' : '// Auto calculated: ceil(3840/320) = 12'}
    "rows": 7,                                        ${locale.value === 'zh' ? '// è‡ªåŠ¨è®¡ç®—: ceil(2160/320) = 7' : '// Auto calculated: ceil(2160/320) = 7'}
    "totalCabinets": 84,
    "screenDimensions": {
      "widthM": 6.0,                                  ${locale.value === 'zh' ? '// 12åˆ— Ã— 500mm = 6000mm' : '// 12 cols Ã— 500mm = 6000mm'}
      "heightM": 3.5,                                 ${locale.value === 'zh' ? '// 7è¡Œ Ã— 500mm = 3500mm' : '// 7 rows Ã— 500mm = 3500mm'}
      "areaM2": 21.0
    },
    "resolution": {                                   ${locale.value === 'zh' ? '// ğŸ¯ åˆ†è¾¨ç‡ä¿¡æ¯' : '// ğŸ¯ Resolution info'}
      "mode": "UHD",                                  ${locale.value === 'zh' ? '// ä½¿ç”¨çš„åˆ†è¾¨ç‡æ¨¡å¼' : '// Resolution mode used'}
      "target": {                                     ${locale.value === 'zh' ? '// ç›®æ ‡åˆ†è¾¨ç‡' : '// Target resolution'}
        "width": 3840,
        "height": 2160,
        "name": "4K Ultra HD"
      },
      "actual": {                                     ${locale.value === 'zh' ? '// å®é™…åˆ†è¾¨ç‡ (å¯èƒ½ç•¥å¤§äºç›®æ ‡)' : '// Actual resolution (may be slightly larger)'}
        "width": 3840,                                ${locale.value === 'zh' ? '// 12 Ã— 320 = 3840' : '// 12 Ã— 320 = 3840'}
        "height": 2240,                               ${locale.value === 'zh' ? '// 7 Ã— 320 = 2240' : '// 7 Ã— 320 = 2240'}
        "totalPixels": 8601600
      }
    },
    "powerConsumption": { "maximum": 7560, "typical": 2520 },
    "physical": { "totalWeight": 462 },
    "preview": { "svg": "<svg>...</svg>", "width": 800, "height": 500 }
  }
}`)

const oneClickResponseCode = computed(() => `{
  "success": true,
  "data": {
    "columns": 10,
    "rows": 3,
    "totalCabinets": 30,
    "screenDimensions": {
      "widthM": 5.0,
      "heightM": 3.0,
      "areaM2": 15.0
    },
    "powerConsumption": {            ${locale.value === 'zh' ? '// âš¡ åŠŸè€—ç»Ÿè®¡' : '// âš¡ Power statistics'}
      "maximum": 5400,               ${locale.value === 'zh' ? '// æœ€å¤§åŠŸç‡ (W)' : '// Maximum power (W)'}
      "typical": 1800                ${locale.value === 'zh' ? '// å…¸å‹åŠŸç‡ (W)' : '// Typical power (W)'}
    },
    "physical": {                    ${locale.value === 'zh' ? '// ğŸ“¦ ç‰©ç†å‚æ•°' : '// ğŸ“¦ Physical params'}
      "totalWeight": 315             ${locale.value === 'zh' ? '// æ€»é‡é‡ (kg)' : '// Total weight (kg)'}
    },
    "preview": {                     ${locale.value === 'zh' ? '// SVG é¢„è§ˆæ•°æ®' : '// SVG preview data'}
      "svg": "<svg>...</svg>",       ${c.value.svg}
      "width": 800,
      "height": 500
    }
  }
}`)

// Field description tables
const cabinetDimensionsFields = computed(() => [
  { path: 'dimensions.width', type: 'number', required: true, unit: 'mm', desc: locale.value === 'zh' ? 'ç®±ä½“å®½åº¦ï¼Œæ°´å¹³æ–¹å‘çš„ç‰©ç†å°ºå¯¸' : 'Cabinet width, physical dimension in horizontal direction' },
  { path: 'dimensions.height', type: 'number', required: true, unit: 'mm', desc: locale.value === 'zh' ? 'ç®±ä½“é«˜åº¦ï¼Œå‚ç›´æ–¹å‘çš„ç‰©ç†å°ºå¯¸' : 'Cabinet height, physical dimension in vertical direction' },
  { path: 'dimensions.depth', type: 'number', required: false, unit: 'mm', desc: locale.value === 'zh' ? 'ç®±ä½“æ·±åº¦/åšåº¦ï¼Œç”¨äºå®‰è£…ç©ºé—´è§„åˆ’' : 'Cabinet depth/thickness, for installation space planning' },
])

const cabinetDisplayFields = computed(() => [
  { path: 'display.pixelPitch', type: 'number', required: true, unit: 'mm', desc: locale.value === 'zh' ? 'åƒç´ é—´è·ï¼Œç›¸é‚»LEDç¯ç ä¸­å¿ƒç‚¹ä¹‹é—´çš„è·ç¦»' : 'Pixel pitch, distance between adjacent LED bead centers' },
  { path: 'display.resolution.width', type: 'number', required: true, unit: 'px', desc: locale.value === 'zh' ? 'å•ç®±ä½“æ°´å¹³åˆ†è¾¨ç‡ = ç®±ä½“å®½åº¦ Ã· åƒç´ é—´è·' : 'Horizontal resolution = width Ã· pixelPitch' },
  { path: 'display.resolution.height', type: 'number', required: true, unit: 'px', desc: locale.value === 'zh' ? 'å•ç®±ä½“å‚ç›´åˆ†è¾¨ç‡ = ç®±ä½“é«˜åº¦ Ã· åƒç´ é—´è·' : 'Vertical resolution = height Ã· pixelPitch' },
  { path: 'display.brightness', type: 'number', required: false, unit: 'nits', desc: locale.value === 'zh' ? 'å±å¹•äº®åº¦ï¼Œå®¤å†…å±é€šå¸¸600-1500nits' : 'Screen brightness, indoor typically 600-1500nits' },
  { path: 'display.refreshRate', type: 'number', required: false, unit: 'Hz', desc: locale.value === 'zh' ? 'åˆ·æ–°ç‡ï¼Œå¸¸è§å€¼ï¼š1920ã€3840ã€5760Hz' : 'Refresh rate, common values: 1920, 3840, 5760Hz' },
  { path: 'display.colorDepth', type: 'number', required: false, unit: 'bit', desc: locale.value === 'zh' ? 'è‰²æ·±ï¼Œå¸¸è§å€¼ï¼š14bitã€16bit' : 'Color depth, common values: 14bit, 16bit' },
])

const cabinetPowerFields = computed(() => [
  { path: 'power.maxPower', type: 'number', required: false, unit: 'W', desc: locale.value === 'zh' ? 'æœ€å¤§åŠŸç‡ï¼Œå…¨ç™½ç”»é¢æ—¶çš„åŠŸç‡æ¶ˆè€—ã€‚å¯é€‰å­—æ®µï¼Œä¼ å…¥åä¼šè¿”å›åŠŸè€—ç»Ÿè®¡' : 'Max power consumption at full white screen. Optional - if provided, power stats will be returned' },
  { path: 'power.typicalPower', type: 'number', required: false, unit: 'W', desc: locale.value === 'zh' ? 'å…¸å‹åŠŸç‡ï¼Œæ­£å¸¸æ’­æ”¾æ—¶çš„å¹³å‡åŠŸç‡' : 'Typical power during normal playback' },
  { path: 'power.standbyPower', type: 'number', required: false, unit: 'W', desc: locale.value === 'zh' ? 'å¾…æœºåŠŸç‡ï¼Œå±å¹•å…³é—­ä½†ç³»ç»Ÿé€šç”µæ—¶çš„åŠŸç‡' : 'Standby power when screen off but system powered' },
])

const cabinetPhysicalFields = computed(() => [
  { path: 'physical.weight', type: 'number', required: false, unit: 'kg', desc: locale.value === 'zh' ? 'å•ç®±ä½“é‡é‡ï¼Œç”¨äºè®¡ç®—æ•´å±æ€»é‡é‡å’Œç»“æ„æ‰¿é‡ã€‚å¯é€‰å­—æ®µï¼Œä¼ å…¥åä¼šè¿”å›é‡é‡ç»Ÿè®¡' : 'Single cabinet weight, for total weight and structural load. Optional - if provided, weight stats will be returned' },
])

const roomConfigFields = computed(() => [
  { path: 'dimensions.width', type: 'number', required: true, unit: '-', desc: locale.value === 'zh' ? 'å¯ç”¨å¢™é¢æœ€å¤§å®½åº¦' : 'Maximum available wall width' },
  { path: 'dimensions.height', type: 'number', required: true, unit: '-', desc: locale.value === 'zh' ? 'å¯ç”¨å¢™é¢æœ€å¤§é«˜åº¦' : 'Maximum available wall height' },
  { path: 'unit', type: 'string', required: true, unit: '-', desc: locale.value === 'zh' ? 'å°ºå¯¸å•ä½ï¼š"meters" æˆ– "feet"' : 'Size unit: "meters" or "feet"' },
  { path: 'wallType', type: 'string', required: false, unit: '-', desc: locale.value === 'zh' ? 'å¢™é¢ç±»å‹ï¼Œç›®å‰ä»…æ”¯æŒ "flat"' : 'Wall type, currently only "flat" supported' },
])

const previewOptionsFields = computed(() => [
  { path: 'showDimensions', type: 'boolean', default: 'true', desc: locale.value === 'zh' ? 'æ˜¯å¦æ˜¾ç¤ºå°ºå¯¸æ ‡æ³¨ï¼ˆå®½åº¦ã€é«˜åº¦ï¼‰' : 'Show dimension annotations (width, height)' },
  { path: 'showPerson', type: 'boolean', default: 'true', desc: locale.value === 'zh' ? 'æ˜¯å¦æ˜¾ç¤ºäººç‰©å‚ç…§ï¼ˆ1.7mé«˜ï¼‰' : 'Show person reference (1.7m tall)' },
  { path: 'canvasWidth', type: 'number', default: '800', desc: locale.value === 'zh' ? 'SVGç”»å¸ƒå®½åº¦ï¼ˆåƒç´ ï¼‰' : 'SVG canvas width (pixels)' },
  { path: 'canvasHeight', type: 'number', default: '500', desc: locale.value === 'zh' ? 'SVGç”»å¸ƒé«˜åº¦ï¼ˆåƒç´ ï¼‰' : 'SVG canvas height (pixels)' },
  { path: 'language', type: 'string', default: '"zh"', desc: locale.value === 'zh' ? 'è¯­è¨€è®¾ç½®ï¼š"zh" ä¸­æ–‡ï¼Œ"en" è‹±æ–‡' : 'Language: "zh" Chinese, "en" English' },
])

// Resolution presets table
const resolutionPresetsTable = computed(() => [
  { preset: 'FHD', resolution: '1920 Ã— 1080', name: locale.value === 'zh' ? 'å…¨é«˜æ¸… (1080p)' : 'Full HD (1080p)', desc: locale.value === 'zh' ? 'é€‚åˆå°å‹ä¼šè®®å®¤ã€é›¶å”®å±•ç¤º' : 'Suitable for small meeting rooms, retail displays' },
  { preset: 'UHD', resolution: '3840 Ã— 2160', name: locale.value === 'zh' ? '4K è¶…é«˜æ¸…' : '4K Ultra HD', desc: locale.value === 'zh' ? 'é€‚åˆä¸­å¤§å‹ä¼šè®®å®¤ã€å±•å…' : 'Suitable for medium-large meeting rooms, showrooms' },
  { preset: '8K', resolution: '7680 Ã— 4320', name: locale.value === 'zh' ? '8K è¶…é«˜æ¸…' : '8K Ultra HD', desc: locale.value === 'zh' ? 'é€‚åˆå¤§å‹å±•å…ã€æŒ‡æŒ¥ä¸­å¿ƒ' : 'Suitable for large showrooms, command centers' },
  { preset: 'Custom', resolution: '-', name: locale.value === 'zh' ? 'è‡ªå®šä¹‰' : 'Custom', desc: locale.value === 'zh' ? 'ä½¿ç”¨ roomConfig.dimensions æŒ‡å®šå¢™é¢å°ºå¯¸' : 'Use roomConfig.dimensions to specify wall size' },
])

// Resolution response fields
const resolutionResponseFields = computed(() => [
  { path: 'resolution.mode', type: 'string', desc: locale.value === 'zh' ? 'ä½¿ç”¨çš„åˆ†è¾¨ç‡æ¨¡å¼ï¼šFHD/UHD/8K/Custom' : 'Resolution mode used: FHD/UHD/8K/Custom' },
  { path: 'resolution.target.width', type: 'number', desc: locale.value === 'zh' ? 'ç›®æ ‡æ°´å¹³åˆ†è¾¨ç‡ï¼ˆåƒç´ ï¼‰' : 'Target horizontal resolution (pixels)' },
  { path: 'resolution.target.height', type: 'number', desc: locale.value === 'zh' ? 'ç›®æ ‡å‚ç›´åˆ†è¾¨ç‡ï¼ˆåƒç´ ï¼‰' : 'Target vertical resolution (pixels)' },
  { path: 'resolution.target.name', type: 'string', desc: locale.value === 'zh' ? 'åˆ†è¾¨ç‡åç§°' : 'Resolution name' },
  { path: 'resolution.actual.width', type: 'number', desc: locale.value === 'zh' ? 'å®é™…æ°´å¹³åˆ†è¾¨ç‡ï¼ˆå¯èƒ½ç•¥å¤§äºç›®æ ‡ï¼‰' : 'Actual horizontal resolution (may be slightly larger)' },
  { path: 'resolution.actual.height', type: 'number', desc: locale.value === 'zh' ? 'å®é™…å‚ç›´åˆ†è¾¨ç‡ï¼ˆå¯èƒ½ç•¥å¤§äºç›®æ ‡ï¼‰' : 'Actual vertical resolution (may be slightly larger)' },
  { path: 'resolution.actual.totalPixels', type: 'number', desc: locale.value === 'zh' ? 'æ€»åƒç´ æ•°' : 'Total pixel count' },
])
</script>

<template>
  <div class="min-h-screen bg-apple-gray-50 dark:bg-apple-gray-900 py-8">
    <div class="container-full">
      <!-- Header -->
      <div class="text-center mb-12">
        <h1 class="section-title">ğŸ“š {{ t('docs.title') }}</h1>
        <p class="section-subtitle mx-auto">{{ t('docs.subtitle') }}</p>
      </div>

      <div class="max-w-5xl mx-auto">
        <!-- Table of Contents -->
        <div class="card p-6 mb-8">
          <h2 class="text-lg font-semibold text-primary mb-4">{{ t('docs.toc.title') }}</h2>
          <div class="grid md:grid-cols-2 gap-2">
            <a
              v-for="(item, index) in tocItems"
              :key="item.id"
              :href="`#${item.id}`"
              class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-apple-gray-50 dark:hover:bg-apple-gray-700/50 transition-colors"
            >
              <span class="text-apple-gray-400 text-sm">{{ index + 1 }}.</span>
              <span class="text-apple-gray-700 dark:text-apple-gray-300">{{ t(item.key) }}</span>
            </a>
          </div>
        </div>

        <!-- Overview Section -->
        <section id="overview" class="card p-8 mb-8">
          <h2 class="text-2xl font-bold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            1. {{ t('docs.overview.title') }}
          </h2>
          <p class="text-apple-gray-600 dark:text-apple-gray-400 mb-6">
            {{ t('docs.overview.description') }}
          </p>

          <!-- API Endpoints Table -->
          <div class="overflow-x-auto">
            <table class="apple-table">
              <thead>
                <tr>
                  <th>Endpoint</th>
                  <th>{{ locale === 'zh' ? 'åŠŸèƒ½' : 'Function' }}</th>
                  <th>{{ locale === 'zh' ? 'æ¨è' : 'Recommended' }}</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code class="inline-code">/api/calculate/optimal-layout</code></td>
                  <td>{{ locale === 'zh' ? 'å•ç®±ä½“æœ€ä¼˜å¸ƒå±€è®¡ç®—' : 'Single cabinet optimal layout' }}</td>
                  <td></td>
                </tr>
                <tr>
                  <td><code class="inline-code">/api/calculate/smart-combination</code></td>
                  <td>{{ locale === 'zh' ? 'å¤šç®±ä½“æ™ºèƒ½ç»„åˆè®¡ç®—' : 'Multi-cabinet smart combination' }}</td>
                  <td></td>
                </tr>
                <tr>
                  <td><code class="inline-code">/api/calculate/optimal-layout-with-preview</code></td>
                  <td>{{ locale === 'zh' ? 'å•ç®±ä½“è®¡ç®— + SVGé¢„è§ˆ' : 'Single cabinet + SVG Preview' }}</td>
                  <td><span class="badge-success">âš¡ {{ locale === 'zh' ? 'æ¨è' : 'Recommended' }}</span></td>
                </tr>
                <tr>
                  <td><code class="inline-code">/api/calculate/smart-combination-with-preview</code></td>
                  <td>{{ locale === 'zh' ? 'å¤šç®±ä½“è®¡ç®— + SVGé¢„è§ˆ' : 'Multi-cabinet + SVG Preview' }}</td>
                  <td><span class="badge-success">âš¡ {{ locale === 'zh' ? 'æ¨è' : 'Recommended' }}</span></td>
                </tr>
                <tr>
                  <td><code class="inline-code">/api/preview/svg</code></td>
                  <td>{{ locale === 'zh' ? 'SVGé¢„è§ˆå›¾ç”Ÿæˆ' : 'SVG preview generation' }}</td>
                  <td></td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- API Base URL -->
          <div class="alert-info mt-6">
            <div>
              <div class="font-semibold text-primary mb-1">ğŸš€ {{ t('docs.overview.apiBase') }}</div>
              <p class="text-sm text-apple-gray-600 dark:text-apple-gray-400">
                {{ t('docs.overview.production') }}: <code class="inline-code">https://led-api.unilumin-gtm.com</code>
              </p>
            </div>
          </div>
        </section>

        <!-- Cabinet Specs Section -->
        <section id="cabinet-specs" class="card p-8 mb-8">
          <h2 class="text-2xl font-bold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            2. {{ t('docs.toc.cabinetSpecs') }} (CabinetSpecs)
          </h2>
          <p class="text-apple-gray-600 dark:text-apple-gray-400 mb-6">
            {{ locale === 'zh' 
              ? 'æ‰€æœ‰è®¡ç®—æ¥å£éƒ½éœ€è¦æä¾›ç®±ä½“è§„æ ¼æ•°æ®ï¼Œä»¥ä¸‹æ˜¯å®Œæ•´çš„æ•°æ®ç»“æ„å®šä¹‰ï¼š' 
              : 'All calculation endpoints require cabinet specification data. Below is the complete data structure:' }}
          </p>

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            {{ locale === 'zh' ? '2.1 å®Œæ•´æ•°æ®ç»“æ„' : '2.1 Complete Data Structure' }}
          </h3>
          <CodeBlock :code="cabinetSpecsCode" language="json" filename="CabinetSpecs" />

          <!-- Dimensions Fields -->
          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-8 mb-4">
            {{ locale === 'zh' ? '2.2 dimensions - ç®±ä½“å°ºå¯¸' : '2.2 dimensions - Cabinet Dimensions' }}
          </h3>
          <p class="text-apple-gray-600 dark:text-apple-gray-400 mb-4">
            {{ locale === 'zh' 
              ? 'å®šä¹‰ç®±ä½“çš„ç‰©ç†å°ºå¯¸ï¼Œç”¨äºè®¡ç®—å±å¹•å¸ƒå±€å’Œæ’åˆ—ã€‚' 
              : 'Define physical dimensions of the cabinet for screen layout calculation.' }}
          </p>
          <div class="overflow-x-auto">
            <table class="apple-table">
              <thead>
                <tr>
                  <th>{{ t('docs.tables.field') }}</th>
                  <th>{{ t('docs.tables.type') }}</th>
                  <th>{{ t('docs.tables.required') }}</th>
                  <th>{{ t('docs.tables.unit') }}</th>
                  <th>{{ t('docs.tables.description') }}</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="field in cabinetDimensionsFields" :key="field.path">
                  <td><code class="inline-code">{{ field.path }}</code></td>
                  <td><span class="badge-primary">{{ field.type }}</span></td>
                  <td>
                    <span :class="field.required ? 'badge-error' : 'badge-secondary'">
                      {{ field.required ? t('docs.tables.required') : t('docs.tables.optional') }}
                    </span>
                  </td>
                  <td>{{ field.unit }}</td>
                  <td>{{ field.desc }}</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Display Fields -->
          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-8 mb-4">
            {{ locale === 'zh' ? '2.3 display - æ˜¾ç¤ºå‚æ•°' : '2.3 display - Display Parameters' }}
          </h3>
          <p class="text-apple-gray-600 dark:text-apple-gray-400 mb-4">
            {{ locale === 'zh' 
              ? 'å®šä¹‰LEDæ˜¾ç¤ºå±çš„æ˜¾ç¤ºæ€§èƒ½å‚æ•°ï¼Œç”¨äºè®¡ç®—åˆ†è¾¨ç‡å’Œæ˜¾ç¤ºæ•ˆæœã€‚' 
              : 'Define LED display performance parameters for resolution and display effect calculations.' }}
          </p>
          <div class="overflow-x-auto">
            <table class="apple-table">
              <thead>
                <tr>
                  <th>{{ t('docs.tables.field') }}</th>
                  <th>{{ t('docs.tables.type') }}</th>
                  <th>{{ t('docs.tables.required') }}</th>
                  <th>{{ t('docs.tables.unit') }}</th>
                  <th>{{ t('docs.tables.description') }}</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="field in cabinetDisplayFields" :key="field.path">
                  <td><code class="inline-code">{{ field.path }}</code></td>
                  <td><span class="badge-primary">{{ field.type }}</span></td>
                  <td>
                    <span :class="field.required ? 'badge-error' : 'badge-secondary'">
                      {{ field.required ? t('docs.tables.required') : t('docs.tables.optional') }}
                    </span>
                  </td>
                  <td>{{ field.unit }}</td>
                  <td>{{ field.desc }}</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Power Fields -->
          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-8 mb-4">
            {{ locale === 'zh' ? '2.4 power - åŠŸç‡å‚æ•°' : '2.4 power - Power Parameters' }}
          </h3>
          <p class="text-apple-gray-600 dark:text-apple-gray-400 mb-4">
            {{ locale === 'zh' 
              ? 'å®šä¹‰ç®±ä½“çš„ç”µåŠ›æ¶ˆè€—å‚æ•°ï¼Œç”¨äºè®¡ç®—æ•´å±çš„åŠŸç‡éœ€æ±‚ã€‚' 
              : 'Define power consumption parameters for total screen power calculation.' }}
          </p>
          <div class="overflow-x-auto">
            <table class="apple-table">
              <thead>
                <tr>
                  <th>{{ t('docs.tables.field') }}</th>
                  <th>{{ t('docs.tables.type') }}</th>
                  <th>{{ t('docs.tables.required') }}</th>
                  <th>{{ t('docs.tables.unit') }}</th>
                  <th>{{ t('docs.tables.description') }}</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="field in cabinetPowerFields" :key="field.path">
                  <td><code class="inline-code">{{ field.path }}</code></td>
                  <td><span class="badge-primary">{{ field.type }}</span></td>
                  <td>
                    <span :class="field.required ? 'badge-error' : 'badge-secondary'">
                      {{ field.required ? t('docs.tables.required') : t('docs.tables.optional') }}
                    </span>
                  </td>
                  <td>{{ field.unit }}</td>
                  <td>{{ field.desc }}</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Physical Fields -->
          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-8 mb-4">
            {{ locale === 'zh' ? '2.5 physical - ç‰©ç†å‚æ•°' : '2.5 physical - Physical Parameters' }}
          </h3>
          <div class="overflow-x-auto">
            <table class="apple-table">
              <thead>
                <tr>
                  <th>{{ t('docs.tables.field') }}</th>
                  <th>{{ t('docs.tables.type') }}</th>
                  <th>{{ t('docs.tables.required') }}</th>
                  <th>{{ t('docs.tables.unit') }}</th>
                  <th>{{ t('docs.tables.description') }}</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="field in cabinetPhysicalFields" :key="field.path">
                  <td><code class="inline-code">{{ field.path }}</code></td>
                  <td><span class="badge-primary">{{ field.type }}</span></td>
                  <td>
                    <span :class="field.required ? 'badge-error' : 'badge-secondary'">
                      {{ field.required ? t('docs.tables.required') : t('docs.tables.optional') }}
                    </span>
                  </td>
                  <td>{{ field.unit }}</td>
                  <td>{{ field.desc }}</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Note -->
          <div class="alert-warning mt-6">
            <div>
              <div class="font-semibold text-apple-yellow mb-1">ğŸ’¡ {{ locale === 'zh' ? 'å¯é€‰å‚æ•°è¯´æ˜' : 'Optional Parameters Note' }}</div>
              <p class="text-sm text-apple-gray-600 dark:text-apple-gray-400">
                {{ locale === 'zh' 
                  ? 'æ ¸å¿ƒå¿…å¡«å­—æ®µï¼šdimensionsï¼ˆwidth, heightï¼‰ã€displayï¼ˆpixelPitch, resolutionï¼‰ã€‚power å’Œ physical ä¸ºå¯é€‰å‚æ•° - ä»…è®¡ç®—å¸ƒå±€æ—¶å¯ä¸ä¼ ï¼›ä¼ å…¥æ—¶ä¼šè¿”å›ç›¸åº”çš„åŠŸè€—/é‡é‡ç»Ÿè®¡ã€‚' 
                  : 'Core required fields: dimensions (width, height), display (pixelPitch, resolution). power and physical are optional - omit for layout-only calculation; provide them to get power/weight statistics in response.' }}
              </p>
            </div>
          </div>
        </section>

        <!-- Room Config Section -->
        <section id="room-config" class="card p-8 mb-8">
          <h2 class="text-2xl font-bold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            3. {{ t('docs.toc.roomConfig') }} (RoomConfig)
          </h2>
          <p class="text-apple-gray-600 dark:text-apple-gray-400 mb-6">
            {{ locale === 'zh' 
              ? 'å®šä¹‰LEDå±å¹•çš„å®‰è£…ç©ºé—´é™åˆ¶ï¼ŒAPIå°†åœ¨æ­¤èŒƒå›´å†…è®¡ç®—æœ€ä¼˜å¸ƒå±€ã€‚' 
              : 'Define LED screen installation space constraints. API will calculate optimal layout within this range.' }}
          </p>

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            {{ locale === 'zh' ? '3.1 å®Œæ•´æ•°æ®ç»“æ„' : '3.1 Complete Data Structure' }}
          </h3>
          <CodeBlock :code="roomConfigCode" language="json" filename="RoomConfig" />

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-8 mb-4">
            {{ locale === 'zh' ? '3.2 å­—æ®µè¯´æ˜' : '3.2 Field Descriptions' }}
          </h3>
          <div class="overflow-x-auto">
            <table class="apple-table">
              <thead>
                <tr>
                  <th>{{ t('docs.tables.field') }}</th>
                  <th>{{ t('docs.tables.type') }}</th>
                  <th>{{ t('docs.tables.required') }}</th>
                  <th>{{ t('docs.tables.description') }}</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="field in roomConfigFields" :key="field.path">
                  <td><code class="inline-code">{{ field.path }}</code></td>
                  <td><span class="badge-primary">{{ field.type }}</span></td>
                  <td>
                    <span :class="field.required ? 'badge-error' : 'badge-secondary'">
                      {{ field.required ? t('docs.tables.required') : t('docs.tables.optional') }}
                    </span>
                  </td>
                  <td>{{ field.desc }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Optimal Layout Section -->
        <section id="optimal-layout" class="card p-8 mb-8">
          <h2 class="text-2xl font-bold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            4. {{ t('docs.toc.optimalLayout') }}
          </h2>
          
          <div class="flex items-center gap-3 mb-6">
            <span class="method-post">POST</span>
            <code class="inline-code">/api/calculate/optimal-layout</code>
          </div>

          <p class="text-apple-gray-600 dark:text-apple-gray-400 mb-6">
            {{ locale === 'zh' 
              ? 'åœ¨æŒ‡å®šå¢™é¢å°ºå¯¸å†…ï¼Œä½¿ç”¨å•ä¸€ç®±ä½“å‹å·æ‹¼æ¥LEDå±å¹•ï¼Œè‡ªåŠ¨è®¡ç®—æœ€ä¼˜çš„è¡Œåˆ—å¸ƒå±€ã€‚é€‚ç”¨äºä½¿ç”¨ç»Ÿä¸€è§„æ ¼ç®±ä½“çš„æ ‡å‡†é¡¹ç›®ã€‚'
              : 'Calculate optimal row and column layout for LED screen using a single cabinet model within specified wall dimensions.' }}
          </p>

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            {{ locale === 'zh' ? '4.1 å®Œæ•´è¯·æ±‚ç¤ºä¾‹ï¼ˆåŒ…å«åŠŸè€—/é‡é‡ï¼‰' : '4.1 Full Request Example (with power/weight)' }}
          </h3>
          <CodeBlock :code="optimalLayoutRequestCode" language="json" :filename="locale === 'zh' ? 'å®Œæ•´è¯·æ±‚' : 'Full Request'" />

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-8 mb-4">
            {{ locale === 'zh' ? '4.2 å®Œæ•´å“åº”ç¤ºä¾‹' : '4.2 Full Response Example' }}
          </h3>
          <CodeBlock :code="optimalLayoutResponseCode" language="json" filename="Response" />

          <!-- Layout Only Example -->
          <div class="alert-info mt-8">
            <div>
              <div class="font-semibold text-primary mb-1">ğŸ“ {{ locale === 'zh' ? 'ä»…å¸ƒå±€è®¡ç®—' : 'Layout-Only Calculation' }}</div>
              <p class="text-sm text-apple-gray-600 dark:text-apple-gray-400">
                {{ locale === 'zh' 
                  ? 'å¦‚æœåªéœ€è¦è®¡ç®—å±å¹•å¸ƒå±€ï¼Œä¸éœ€è¦åŠŸè€—/é‡é‡ç»Ÿè®¡ï¼Œå¯ä»¥çœç•¥ power å’Œ physical å‚æ•°ï¼š'
                  : 'If you only need layout calculation without power/weight stats, you can omit power and physical:' }}
              </p>
            </div>
          </div>

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-6 mb-4">
            {{ locale === 'zh' ? '4.3 ä»…å¸ƒå±€è¯·æ±‚ç¤ºä¾‹' : '4.3 Layout-Only Request' }}
          </h3>
          <CodeBlock :code="layoutOnlyRequestCode" language="json" :filename="locale === 'zh' ? 'ä»…å¸ƒå±€è¯·æ±‚' : 'Layout-Only Request'" />

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-6 mb-4">
            {{ locale === 'zh' ? '4.4 ä»…å¸ƒå±€å“åº”ç¤ºä¾‹' : '4.4 Layout-Only Response' }}
          </h3>
          <CodeBlock :code="layoutOnlyResponseCode" language="json" :filename="locale === 'zh' ? 'ä»…å¸ƒå±€å“åº”' : 'Layout-Only Response'" />
        </section>

        <!-- Smart Combination Section -->
        <section id="smart-combination" class="card p-8 mb-8">
          <h2 class="text-2xl font-bold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            5. {{ t('docs.toc.smartCombination') }}
          </h2>
          
          <div class="flex items-center gap-3 mb-6">
            <span class="method-post">POST</span>
            <code class="inline-code">/api/calculate/smart-combination</code>
          </div>

          <p class="text-apple-gray-600 dark:text-apple-gray-400 mb-6">
            {{ locale === 'zh' 
              ? 'åœ¨æŒ‡å®šå¢™é¢å°ºå¯¸å†…ï¼Œä½¿ç”¨å¤šç§å°ºå¯¸ç®±ä½“ç»„åˆæ‹¼æ¥LEDå±å¹•ï¼Œæ™ºèƒ½è®¡ç®—æœ€ä½³å¡«å……æ–¹æ¡ˆã€‚é€‚ç”¨äºéœ€è¦ç²¾ç¡®å¡«å……ç‰¹å®šç©ºé—´çš„é¡¹ç›®ã€‚'
              : 'Intelligently calculate the best combination of multiple cabinet sizes within specified wall dimensions.' }}
          </p>

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            {{ locale === 'zh' ? '5.1 è¯·æ±‚ç¤ºä¾‹' : '5.1 Request Example' }}
          </h3>
          <CodeBlock :code="smartCombinationRequestCode" language="json" filename="Request Body" />

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-8 mb-4">
            {{ locale === 'zh' ? '5.2 å“åº”ç¤ºä¾‹' : '5.2 Response Example' }}
          </h3>
          <CodeBlock :code="smartCombinationResponseCode" language="json" filename="Response" />

          <div class="alert-info mt-6">
            <div>
              <div class="font-semibold text-primary mb-1">ğŸ’¡ {{ locale === 'zh' ? 'æç¤º' : 'Tip' }}</div>
              <p class="text-sm text-apple-gray-600 dark:text-apple-gray-400">
                {{ locale === 'zh' 
                  ? 'å¤šç®±ä½“ç»„åˆæ¥å£ç›´æ¥ä½¿ç”¨æ¯«ç±³(mm)ä½œä¸ºå¢™é¢å°ºå¯¸å•ä½ï¼Œä¸å•ç®±ä½“æ¥å£çš„ roomConfig ä¸åŒã€‚'
                  : 'Multi-cabinet API uses millimeters (mm) directly for wall dimensions, different from single cabinet roomConfig.' }}
              </p>
            </div>
          </div>

          <!-- Auxiliary Cabinets Matching Rules -->
          <div class="mt-8 pt-6 border-t border-apple-gray-200 dark:border-apple-gray-700">
            <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
              {{ locale === 'zh' ? '5.3 è¾…åŠ©ç®±ä½“åŒ¹é…è§„åˆ™' : '5.3 Auxiliary Cabinet Matching Rules' }}
            </h3>
            
            <div class="alert-warning mb-6">
              <div>
                <div class="font-semibold text-apple-yellow mb-2">ğŸ”— {{ locale === 'zh' ? 'è¾…åŠ©ç®±ä½“è‡ªåŠ¨åŒ¹é…æ¡ä»¶' : 'Auxiliary Cabinet Auto-Matching Conditions' }}</div>
                <p class="text-sm text-apple-gray-600 dark:text-apple-gray-400 mb-3">
                  {{ locale === 'zh' 
                    ? 'è¾…åŠ©ç®±ä½“å¿…é¡»ä¸ä¸»ç®±ä½“å±äºåŒä¸€äº§å“ç³»åˆ—ï¼ˆfamilyï¼‰ï¼Œæ‰èƒ½è¿›è¡Œç»„åˆè®¡ç®—ã€‚ç³»ç»Ÿæ ¹æ®ä»¥ä¸‹æ¡ä»¶è‡ªåŠ¨ç­›é€‰å¯ç”¨çš„è¾…åŠ©ç®±ä½“ï¼š'
                    : 'Auxiliary cabinets must belong to the same product family as the main cabinet for combination calculation. System auto-filters available auxiliary cabinets based on:' }}
                </p>
                <ul class="text-sm text-apple-gray-600 dark:text-apple-gray-400 space-y-2 ml-4">
                  <li class="flex items-start gap-2">
                    <span class="text-primary font-bold">1.</span>
                    <span>{{ locale === 'zh' 
                      ? 'åŒç³»åˆ—äº§å“ï¼šè¾…åŠ©ç®±ä½“çš„ family å­—æ®µå¿…é¡»ä¸ä¸»ç®±ä½“ç›¸åŒï¼ˆå¦‚ UslimIIIã€UMiniW ç­‰ï¼‰'
                      : 'Same product family: auxiliary cabinet\'s family field must match main cabinet (e.g., UslimIII, UMiniW)' }}</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="text-primary font-bold">2.</span>
                    <span>{{ locale === 'zh' 
                      ? 'ç›¸åŒåƒç´ é—´è·ï¼šåŒç³»åˆ—äº§å“é€šå¸¸å…·æœ‰ç›¸åŒçš„ pixelPitchï¼Œç¡®ä¿æ‹¼æ¥åç”»é¢ä¸€è‡´æ€§'
                      : 'Same pixel pitch: same family products typically have identical pixelPitch for seamless display' }}</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="text-primary font-bold">3.</span>
                    <span>{{ locale === 'zh' 
                      ? 'æ’é™¤ä¸»ç®±ä½“æœ¬èº«ï¼šè¾…åŠ©ç®±ä½“åˆ—è¡¨ä¸åŒ…å«å·²é€‰æ‹©çš„ä¸»ç®±ä½“'
                      : 'Exclude main cabinet: auxiliary list does not include the selected main cabinet' }}</span>
                  </li>
                </ul>
              </div>
            </div>

            <!-- Example Family Table -->
            <h4 class="text-base font-semibold text-apple-gray-800 dark:text-apple-gray-100 mb-3">
              {{ locale === 'zh' ? 'äº§å“ç³»åˆ—ç¤ºä¾‹' : 'Product Family Examples' }}
            </h4>
            <div class="overflow-x-auto mb-6">
              <table class="apple-table">
                <thead>
                  <tr>
                    <th>{{ locale === 'zh' ? 'äº§å“ç³»åˆ— (family)' : 'Product Family' }}</th>
                    <th>{{ locale === 'zh' ? 'åƒç´ é—´è·' : 'Pixel Pitch' }}</th>
                    <th>{{ locale === 'zh' ? 'å¯ç”¨ç®±ä½“å°ºå¯¸' : 'Available Cabinet Sizes' }}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code class="inline-code">UslimIII</code></td>
                    <td>1.5625mm</td>
                    <td>500Ã—1000, 500Ã—500, 500Ã—250, 250Ã—500, 250Ã—750, 750Ã—250</td>
                  </tr>
                  <tr>
                    <td><code class="inline-code">UMiniW</code></td>
                    <td>0.9375mm</td>
                    <td>600Ã—337.5, 300Ã—337.5</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Matching Logic Explanation -->
            <div class="p-4 bg-apple-gray-50 dark:bg-apple-gray-700/50 rounded-apple">
              <h4 class="text-sm font-semibold text-apple-gray-800 dark:text-apple-gray-100 mb-2">
                {{ locale === 'zh' ? 'åŒ¹é…é€»è¾‘ç¤ºä¾‹' : 'Matching Logic Example' }}
              </h4>
              <p class="text-sm text-apple-gray-600 dark:text-apple-gray-400">
                {{ locale === 'zh' 
                  ? 'å½“é€‰æ‹© UslimIII MIP 1.5 (500Ã—1000) ä½œä¸ºä¸»ç®±ä½“æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨ç­›é€‰å‡ºåŒç³»åˆ—çš„å…¶ä»–å°ºå¯¸ç®±ä½“ä½œä¸ºè¾…åŠ©ç®±ä½“ï¼š500Ã—500ã€500Ã—250ã€250Ã—500ã€250Ã—750ã€750Ã—250ã€‚è¿™äº›ç®±ä½“å…·æœ‰ç›¸åŒçš„åƒç´ é—´è·(1.5625mm)ï¼Œå¯ä»¥æ— ç¼æ‹¼æ¥ã€‚'
                  : 'When selecting UslimIII MIP 1.5 (500Ã—1000) as main cabinet, system auto-filters other sizes from the same family as auxiliary: 500Ã—500, 500Ã—250, 250Ã—500, 250Ã—750, 750Ã—250. These cabinets share the same pixel pitch (1.5625mm) for seamless tiling.' }}
              </p>
            </div>
          </div>
        </section>

        <!-- One-Click APIs Section -->
        <section id="oneclick-apis" class="card p-8 mb-8">
          <h2 class="text-2xl font-bold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            6. {{ t('docs.toc.oneclickApis') }} âš¡
          </h2>
          
          <div class="alert-success mb-6">
            <div>
              <div class="font-semibold text-apple-green mb-1">âš¡ {{ locale === 'zh' ? 'æ¨èä½¿ç”¨' : 'Recommended' }}</div>
              <p class="text-sm text-apple-gray-600 dark:text-apple-gray-400">
                {{ locale === 'zh' 
                  ? 'ä¸€é”®æ¥å£åªéœ€ä¸€æ¬¡ç½‘ç»œè¯·æ±‚ï¼ŒåŒæ—¶è¿”å›è®¡ç®—ç»“æœå’ŒSVGé¢„è§ˆå›¾ï¼Œé¿å…é‡å¤æ•°æ®ä¼ è¾“ï¼Œå“åº”æ›´å¿«ï¼Œé›†æˆæ›´ç®€å•ã€‚'
                  : 'One-click APIs return both calculation results and SVG preview in a single request, reducing network calls and improving efficiency.' }}
              </p>
            </div>
          </div>

          <div class="space-y-4 mb-8">
            <div class="p-4 bg-apple-gray-50 dark:bg-apple-gray-700/50 rounded-apple">
              <div class="flex items-center gap-3 mb-2">
                <span class="method-post">POST</span>
                <code class="inline-code">/api/calculate/optimal-layout-with-preview</code>
              </div>
              <p class="text-sm text-apple-gray-500">{{ locale === 'zh' ? 'å•ç®±ä½“ä¸€é”®è®¡ç®— + SVGé¢„è§ˆ' : 'Single cabinet one-click + SVG preview' }}</p>
            </div>
            
            <div class="p-4 bg-apple-gray-50 dark:bg-apple-gray-700/50 rounded-apple">
              <div class="flex items-center gap-3 mb-2">
                <span class="method-post">POST</span>
                <code class="inline-code">/api/calculate/smart-combination-with-preview</code>
              </div>
              <p class="text-sm text-apple-gray-500">{{ locale === 'zh' ? 'å¤šç®±ä½“ä¸€é”®è®¡ç®— + SVGé¢„è§ˆ' : 'Multi-cabinet one-click + SVG preview' }}</p>
            </div>
          </div>

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            {{ locale === 'zh' ? '6.1 è¯·æ±‚ç¤ºä¾‹ï¼ˆå•ç®±ä½“ï¼‰' : '6.1 Request Example (Single Cabinet)' }}
          </h3>
          <CodeBlock :code="oneClickRequestCode" language="json" filename="Request Body" />

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-8 mb-4">
            {{ locale === 'zh' ? '6.2 å“åº”ç¤ºä¾‹' : '6.2 Response Example' }}
          </h3>
          <CodeBlock :code="oneClickResponseCode" language="json" filename="Response" />

          <!-- Target Resolution Section -->
          <div class="mt-10 pt-8 border-t border-apple-gray-200 dark:border-apple-gray-700">
            <h3 class="text-xl font-bold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
              ğŸ¯ {{ locale === 'zh' ? '6.3 ç›®æ ‡åˆ†è¾¨ç‡æ¨¡å¼ (targetResolution)' : '6.3 Target Resolution Mode (targetResolution)' }}
            </h3>
            
            <div class="alert-info mb-6">
              <div>
                <div class="font-semibold text-primary mb-1">ğŸ’¡ {{ locale === 'zh' ? 'åˆ†è¾¨ç‡ä¼˜å…ˆè®¡ç®—' : 'Resolution-First Calculation' }}</div>
                <p class="text-sm text-apple-gray-600 dark:text-apple-gray-400">
                  {{ locale === 'zh' 
                    ? 'ä½¿ç”¨ targetResolution å‚æ•°å¯ä»¥æŒ‡å®šç›®æ ‡åˆ†è¾¨ç‡ï¼ˆFHD/UHD/8Kï¼‰ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è®¡ç®—æ‰€éœ€çš„ç®±ä½“è¡Œåˆ—æ•°ï¼Œè€ŒéåŸºäºå¢™é¢å°ºå¯¸è®¡ç®—ã€‚è¿™å¯¹äºéœ€è¦ç²¾ç¡®åˆ†è¾¨ç‡çš„é¡¹ç›®éå¸¸æœ‰ç”¨ã€‚'
                    : 'Use targetResolution parameter to specify target resolution (FHD/UHD/8K). System will auto-calculate required cabinet rows/columns instead of wall-based calculation. Useful for projects requiring precise resolution.' }}
                </p>
              </div>
            </div>

            <!-- Resolution Presets Table -->
            <h4 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
              {{ locale === 'zh' ? 'åˆ†è¾¨ç‡é¢„è®¾å€¼' : 'Resolution Presets' }}
            </h4>
            <div class="overflow-x-auto mb-8">
              <table class="apple-table">
                <thead>
                  <tr>
                    <th>{{ locale === 'zh' ? 'é¢„è®¾å€¼' : 'Preset' }}</th>
                    <th>{{ locale === 'zh' ? 'åˆ†è¾¨ç‡' : 'Resolution' }}</th>
                    <th>{{ locale === 'zh' ? 'åç§°' : 'Name' }}</th>
                    <th>{{ locale === 'zh' ? 'é€‚ç”¨åœºæ™¯' : 'Use Case' }}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr v-for="preset in resolutionPresetsTable" :key="preset.preset">
                    <td><code class="inline-code">{{ preset.preset }}</code></td>
                    <td><span class="badge-primary">{{ preset.resolution }}</span></td>
                    <td>{{ preset.name }}</td>
                    <td>{{ preset.desc }}</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Resolution Request Example -->
            <h4 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
              {{ locale === 'zh' ? 'åˆ†è¾¨ç‡æ¨¡å¼è¯·æ±‚ç¤ºä¾‹' : 'Resolution Mode Request Example' }}
            </h4>
            <CodeBlock :code="resolutionBasedRequestCode" language="json" :filename="locale === 'zh' ? 'åˆ†è¾¨ç‡æ¨¡å¼è¯·æ±‚' : 'Resolution Mode Request'" />

            <!-- Resolution Response Example -->
            <h4 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-8 mb-4">
              {{ locale === 'zh' ? 'åˆ†è¾¨ç‡æ¨¡å¼å“åº”ç¤ºä¾‹' : 'Resolution Mode Response Example' }}
            </h4>
            <CodeBlock :code="resolutionBasedResponseCode" language="json" :filename="locale === 'zh' ? 'åˆ†è¾¨ç‡æ¨¡å¼å“åº”' : 'Resolution Mode Response'" />

            <!-- Resolution Response Fields -->
            <h4 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-8 mb-4">
              {{ locale === 'zh' ? 'åˆ†è¾¨ç‡å“åº”å­—æ®µè¯´æ˜' : 'Resolution Response Fields' }}
            </h4>
            <div class="overflow-x-auto">
              <table class="apple-table">
                <thead>
                  <tr>
                    <th>{{ t('docs.tables.field') }}</th>
                    <th>{{ t('docs.tables.type') }}</th>
                    <th>{{ t('docs.tables.description') }}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr v-for="field in resolutionResponseFields" :key="field.path">
                    <td><code class="inline-code">{{ field.path }}</code></td>
                    <td><span class="badge-primary">{{ field.type }}</span></td>
                    <td>{{ field.desc }}</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Calculation Logic Note -->
            <div class="alert-warning mt-6">
              <div>
                <div class="font-semibold text-apple-yellow mb-1">ğŸ“ {{ locale === 'zh' ? 'è®¡ç®—é€»è¾‘è¯´æ˜' : 'Calculation Logic' }}</div>
                <p class="text-sm text-apple-gray-600 dark:text-apple-gray-400">
                  {{ locale === 'zh' 
                    ? 'ç³»ç»Ÿä½¿ç”¨ ceil(ç›®æ ‡åˆ†è¾¨ç‡ Ã· å•ç®±ä½“åˆ†è¾¨ç‡) è®¡ç®—æ‰€éœ€è¡Œåˆ—æ•°ï¼Œå› æ­¤å®é™…åˆ†è¾¨ç‡å¯èƒ½ç•¥å¤§äºç›®æ ‡åˆ†è¾¨ç‡ã€‚ä¾‹å¦‚ï¼šç›®æ ‡ 4K (3840Ã—2160)ï¼Œå•ç®±ä½“ 320Ã—320ï¼Œåˆ™éœ€è¦ 12Ã—7=84 ä¸ªç®±ä½“ï¼Œå®é™…åˆ†è¾¨ç‡ä¸º 3840Ã—2240ã€‚'
                    : 'System uses ceil(target resolution Ã· cabinet resolution) to calculate rows/columns, so actual resolution may be slightly larger than target. Example: Target 4K (3840Ã—2160), cabinet 320Ã—320, needs 12Ã—7=84 cabinets, actual resolution is 3840Ã—2240.' }}
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- Preview Section -->
        <section id="preview" class="card p-8 mb-8">
          <h2 class="text-2xl font-bold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            7. {{ t('docs.toc.preview') }}
          </h2>
          
          <div class="flex items-center gap-3 mb-6">
            <span class="method-post">POST</span>
            <code class="inline-code">/api/preview/svg</code>
          </div>

          <p class="text-apple-gray-600 dark:text-apple-gray-400 mb-6">
            {{ locale === 'zh' 
              ? 'åŸºäºè®¡ç®—ç»“æœç”ŸæˆLEDå±å¹•çš„å¯è§†åŒ–é¢„è§ˆå›¾ï¼Œå±•ç¤ºç®±ä½“æ’åˆ—æ•ˆæœã€‚æ­¤æ¥å£éœ€è¦å…ˆè°ƒç”¨è®¡ç®—æ¥å£è·å–ç»“æœï¼Œå†ä¼ å…¥ç”Ÿæˆé¢„è§ˆã€‚'
              : 'Generate visual SVG preview based on calculation results. This endpoint requires calculation results from previous API calls.' }}
          </p>

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            {{ locale === 'zh' ? '7.1 é¢„è§ˆé€‰é¡¹ (previewOptions)' : '7.1 Preview Options (previewOptions)' }}
          </h3>
          <CodeBlock :code="previewOptionsCode" language="json" filename="previewOptions" />

          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-8 mb-4">
            {{ locale === 'zh' ? '7.2 é€‰é¡¹è¯´æ˜' : '7.2 Options Description' }}
          </h3>
          <div class="overflow-x-auto">
            <table class="apple-table">
              <thead>
                <tr>
                  <th>{{ t('docs.tables.field') }}</th>
                  <th>{{ t('docs.tables.type') }}</th>
                  <th>{{ locale === 'zh' ? 'é»˜è®¤å€¼' : 'Default' }}</th>
                  <th>{{ t('docs.tables.description') }}</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="field in previewOptionsFields" :key="field.path">
                  <td><code class="inline-code">{{ field.path }}</code></td>
                  <td><span class="badge-primary">{{ field.type }}</span></td>
                  <td><code class="inline-code">{{ field.default }}</code></td>
                  <td>{{ field.desc }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Examples Section -->
        <section id="examples" class="card p-8 mb-8">
          <h2 class="text-2xl font-bold text-apple-gray-800 dark:text-apple-gray-100 mb-4">
            8. {{ t('docs.toc.examples') }}
          </h2>
          
          <p class="text-apple-gray-600 dark:text-apple-gray-400 mb-6">
            {{ locale === 'zh' 
              ? 'ä»¥ä¸‹æ˜¯ä½¿ç”¨ fetch API è°ƒç”¨ LED Calculator API çš„å®Œæ•´ JavaScript ç¤ºä¾‹ï¼š'
              : 'Here is a complete JavaScript example using fetch API to call LED Calculator API:' }}
          </p>

          <CodeBlock 
            :code="locale === 'zh' ? `// ä¸€é”®è®¡ç®— + é¢„è§ˆç¤ºä¾‹
async function calculateWithPreview() {
  const response = await fetch('https://led-api.unilumin-gtm.com/api/calculate/optimal-layout-with-preview', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      cabinetSpecs: {
        dimensions: { width: 500, height: 1000, depth: 40 },
        display: {
          pixelPitch: 1.5625,
          resolution: { width: 320, height: 640 },
          brightness: 1000,
          refreshRate: 5760
        },
        power: { maxPower: 180, typicalPower: 60 },
        physical: { weight: 10.5 }
      },
      roomConfig: {
        dimensions: { width: 5, height: 3 },
        unit: 'meters',
        wallType: 'flat'
      },
      previewOptions: {
        showDimensions: true,
        showPerson: true,
        language: 'zh'
      }
    })
  });
  
  const result = await response.json();
  
  if (result.success) {
    console.log('å¸ƒå±€:', result.data.columns, 'Ã—', result.data.rows);
    console.log('ç®±ä½“æ€»æ•°:', result.data.totalCabinets);
    
    // æ˜¾ç¤ºSVGé¢„è§ˆ
    document.getElementById('preview').innerHTML = result.data.preview.svg;
  }
  
  return result;
}` : `// One-click calculate + preview example
async function calculateWithPreview() {
  const response = await fetch('https://led-api.unilumin-gtm.com/api/calculate/optimal-layout-with-preview', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      cabinetSpecs: {
        dimensions: { width: 500, height: 1000, depth: 40 },
        display: {
          pixelPitch: 1.5625,
          resolution: { width: 320, height: 640 },
          brightness: 1000,
          refreshRate: 5760
        },
        power: { maxPower: 180, typicalPower: 60 },
        physical: { weight: 10.5 }
      },
      roomConfig: {
        dimensions: { width: 5, height: 3 },
        unit: 'meters',
        wallType: 'flat'
      },
      previewOptions: {
        showDimensions: true,
        showPerson: true,
        language: 'en'
      }
    })
  });
  
  const result = await response.json();
  
  if (result.success) {
    console.log('Layout:', result.data.columns, 'Ã—', result.data.rows);
    console.log('Total cabinets:', result.data.totalCabinets);
    
    // Display SVG preview
    document.getElementById('preview').innerHTML = result.data.preview.svg;
  }
  
  return result;
}`" 
            language="javascript" 
            filename="example.js" 
          />

          <!-- Resolution-based Example -->
          <h3 class="text-lg font-semibold text-apple-gray-800 dark:text-apple-gray-100 mt-10 mb-4">
            {{ locale === 'zh' ? '8.2 åˆ†è¾¨ç‡æ¨¡å¼ç¤ºä¾‹' : '8.2 Resolution Mode Example' }}
          </h3>
          <p class="text-apple-gray-600 dark:text-apple-gray-400 mb-6">
            {{ locale === 'zh' 
              ? 'ä½¿ç”¨ targetResolution å‚æ•°æŒ‡å®šç›®æ ‡åˆ†è¾¨ç‡ï¼Œç³»ç»Ÿè‡ªåŠ¨è®¡ç®—æ‰€éœ€ç®±ä½“æ•°é‡ï¼š'
              : 'Use targetResolution parameter to specify target resolution, system auto-calculates required cabinets:' }}
          </p>
          <CodeBlock 
            :code="locale === 'zh' ? `// åˆ†è¾¨ç‡æ¨¡å¼ç¤ºä¾‹ - æŒ‡å®š4Kåˆ†è¾¨ç‡
async function calculateFor4K() {
  const response = await fetch('https://led-api.unilumin-gtm.com/api/calculate/optimal-layout-with-preview', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      cabinetSpecs: {
        dimensions: { width: 500, height: 500, depth: 40 },
        display: {
          pixelPitch: 1.5625,
          resolution: { width: 320, height: 320 },  // å•ç®±ä½“åˆ†è¾¨ç‡
          brightness: 1000,
          refreshRate: 5760
        },
        power: { maxPower: 90, typicalPower: 30 },
        physical: { weight: 5.5 }
      },
      roomConfig: {
        dimensions: { width: 10, height: 6 },  // åˆ†è¾¨ç‡æ¨¡å¼ä¸‹ä¼šè¢«å¿½ç•¥
        unit: 'meters',
        wallType: 'flat'
      },
      targetResolution: 'UHD',  // ğŸ¯ æŒ‡å®š4Kåˆ†è¾¨ç‡
      previewOptions: {
        showDimensions: true,
        showPerson: true,
        language: 'zh'
      }
    })
  });
  
  const result = await response.json();
  
  if (result.success) {
    const { resolution } = result.data;
    console.log('ç›®æ ‡åˆ†è¾¨ç‡:', resolution.target.width, 'Ã—', resolution.target.height);
    console.log('å®é™…åˆ†è¾¨ç‡:', resolution.actual.width, 'Ã—', resolution.actual.height);
    console.log('æ€»åƒç´ :', resolution.actual.totalPixels.toLocaleString());
    console.log('å¸ƒå±€:', result.data.columns, 'Ã—', result.data.rows);
    
    document.getElementById('preview').innerHTML = result.data.preview.svg;
  }
  
  return result;
}` : `// Resolution mode example - specify 4K resolution
async function calculateFor4K() {
  const response = await fetch('https://led-api.unilumin-gtm.com/api/calculate/optimal-layout-with-preview', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      cabinetSpecs: {
        dimensions: { width: 500, height: 500, depth: 40 },
        display: {
          pixelPitch: 1.5625,
          resolution: { width: 320, height: 320 },  // Single cabinet resolution
          brightness: 1000,
          refreshRate: 5760
        },
        power: { maxPower: 90, typicalPower: 30 },
        physical: { weight: 5.5 }
      },
      roomConfig: {
        dimensions: { width: 10, height: 6 },  // Ignored in resolution mode
        unit: 'meters',
        wallType: 'flat'
      },
      targetResolution: 'UHD',  // ğŸ¯ Specify 4K resolution
      previewOptions: {
        showDimensions: true,
        showPerson: true,
        language: 'en'
      }
    })
  });
  
  const result = await response.json();
  
  if (result.success) {
    const { resolution } = result.data;
    console.log('Target resolution:', resolution.target.width, 'Ã—', resolution.target.height);
    console.log('Actual resolution:', resolution.actual.width, 'Ã—', resolution.actual.height);
    console.log('Total pixels:', resolution.actual.totalPixels.toLocaleString());
    console.log('Layout:', result.data.columns, 'Ã—', result.data.rows);
    
    document.getElementById('preview').innerHTML = result.data.preview.svg;
  }
  
  return result;
}`" 
            language="javascript" 
            filename="resolution-example.js" 
          />
        </section>
      </div>
    </div>
  </div>
</template>

<style scoped>
.method-post {
  @apply px-3 py-1 bg-apple-green/20 text-apple-green text-xs font-bold rounded-md uppercase;
}

.badge-success {
  @apply px-2 py-0.5 bg-apple-green/20 text-apple-green text-xs font-medium rounded;
}

.badge-error {
  @apply px-2 py-0.5 bg-apple-red/20 text-apple-red text-xs font-medium rounded;
}

.badge-secondary {
  @apply px-2 py-0.5 bg-apple-gray-200 dark:bg-apple-gray-600 text-apple-gray-600 dark:text-apple-gray-300 text-xs font-medium rounded;
}

.badge-primary {
  @apply px-2 py-0.5 bg-primary/10 text-primary text-xs font-mono rounded;
}

.alert-info {
  @apply p-4 bg-primary/10 border-l-4 border-primary rounded-r-apple;
}

.alert-success {
  @apply p-4 bg-apple-green/10 border-l-4 border-apple-green rounded-r-apple;
}

.alert-warning {
  @apply p-4 bg-apple-yellow/10 border-l-4 border-apple-yellow rounded-r-apple;
}

.inline-code {
  @apply px-1.5 py-0.5 bg-apple-gray-100 dark:bg-apple-gray-700 text-apple-gray-700 dark:text-apple-gray-300 text-sm font-mono rounded;
}

.apple-table {
  @apply w-full border-collapse;
}

.apple-table th {
  @apply px-4 py-3 text-left text-xs font-semibold text-apple-gray-500 uppercase tracking-wider bg-apple-gray-50 dark:bg-apple-gray-700/50;
}

.apple-table td {
  @apply px-4 py-3 text-sm text-apple-gray-700 dark:text-apple-gray-300 border-b border-apple-gray-100 dark:border-apple-gray-700;
}

.apple-table tr:hover td {
  @apply bg-apple-gray-50 dark:bg-apple-gray-700/30;
}
</style>
